// page init
function initDayOrNight(){var e=new Date,t,n,r=e.getHours(),i=jQuery(".mega-banner");r>=21&&r>=5?n="night":n="day";n=="night"?i.addClass("night"):i.removeClass("night");var s=jQuery(".people-holder"),o=jQuery(".photo-container"),u=s.find("a"),a=o.find(".holder img");n=="night"&&(a=o.find(".holder02 img"));u.each(function(){var e=jQuery(this);e.on("mouseenter",function(){a.removeClass("active");jQuery(a[u.index(this)]).addClass("active")})})}function initSmoothScroll(){function i(i){n?r.scrollTop(i):t.stop().animate({scrollTop:i},e)}var e=400,t=jQuery("html, body"),n=/MSIE 10.*Touch/.test(navigator.userAgent),r=jQuery(window);jQuery(".btn-top").each(function(){var e=jQuery(this),t=jQuery(e.attr("href"));t.length&&e.click(function(e){e.preventDefault();i(t.offset().top)})})}function getWindowHeight(){return typeof window.innerHeight=="number"?window.innerHeight:document.documentElement.clientHeight}function getProportion(e){var t=e.ratio,n=e.maskWidth,r=n/t;if(r<e.maskHeight){r=e.maskHeight;n=r*t}return{width:n,height:r,marginTop:(e.maskHeight-r)/2,marginLeft:(e.maskWidth-n)/2}}function hoverFix(){var e="hover",t=jQuery(".thumbnails-list").find("li"),n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;if(n){t.each(function(n){var r=jQuery(this);r.bind(navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(n){if(!r.hasClass(e)){n.preventDefault();t.removeClass(e);r.addClass(e)}})});jQuery(document).bind(navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){var n=jQuery(e.target);!n.is(t)&&n.closest(t).length==0&&t.removeClass()})}else t.each(function(){var t=jQuery(this);t.bind({mouseenter:function(){t.addClass(e)},mouseleave:function(){t.removeClass(e)}})})}function initCycleCarousel(){var e=/MSIE 10.*Touch/.test(navigator.userAgent);jQuery("#gallery").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,handleTouch:e?!1:!0,pauseOnHover:!0,maskAutoSize:!0,autoRotation:!0,switchTime:4e3,animSpeed:500,onInit:function(e){e.setHeight=function(){e.holder.height(getWindowHeight())};e.resizeImage=function(){clearTimeout(e.resizeTimer);e.resizeTimer=setTimeout(function(){e.slides.each(function(){var e=jQuery(this),t=e.find("img");t.css(getProportion({ratio:t.width()/t.height(),maskHeight:e.height(),maskWidth:e.width()}))})},200)};e.setHeight();e.resizeImage()},onResize:function(e){e.setHeight();e.resizeImage()}});jQuery(".cycle-gallery-2").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,pauseOnHover:!0,maskAutoSize:!0,autoRotation:!0,switchTime:4e3,animSpeed:500});jQuery(".services-quotes").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,pauseOnHover:!0,maskAutoSize:!0,autoRotation:!1,switchTime:4e3,animSpeed:500})}function initCustomHover(){jQuery("#nav>li").touchHover()}function initTeamAccordion(){var e=jQuery("ul.tabset"),t=e.find("a"),n=e.siblings(".tab-content"),r=function(){t.each(function(){var e=jQuery(this),t=e.parent(),n=jQuery(e.attr("href")),r=t.find(".tab-content");r.length||(r=jQuery('<div class="tab-content">').appendTo(t));r.append(n)})},i=function(){t.each(function(){var e=jQuery(this),t=jQuery(e.attr("href"));n.append(t)})};ResponsiveHelper.addRange({"..707":{on:function(){r();e.tabAccordion({onlyOneActive:!1})},off:function(){e.data("TabAccordion").destroy()}},"708..":{on:function(){i();e.tabAccordion({onlyOneActive:!0})},off:function(){e.data("TabAccordion").destroy()}}})}function initSlideShow(){jQuery("div.slideshow").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",event:"click",useSwipe:!0,autoRotation:!0,autoHeight:!0,switchTime:3e3,disableFadeIE:!0,animSpeed:400})}function initTabs(){jQuery("ul.tabset").contentTabs({tabLinks:"a"})}function initOpenClose(){jQuery("div.open-close").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"slide"})}function initAccordion(){jQuery("ul.accordion").slideAccordion({opener:"a.opener",slider:"div.slide",animSpeed:300})}function initInputs(){PlaceholderInput.replaceByOptions({clearInputs:!0,clearTextareas:!0,clearPasswords:!0,skipClass:"default",wrapWithElement:!1,showUntilTyping:!1,getParentByClass:!1,placeholderAttr:"value"})}function initAnchorLinks(){function n(n){t.stop().animate({scrollTop:n},e)}var e=1e3,t=jQuery("html,body");jQuery("a.go-top-js").click(function(e){e.preventDefault();var t=this.getAttribute("href"),r=t.length>1?jQuery(t).offset().top:0;n(r)});var r=jQuery("#wrapper > section"),i=r.last(),s=jQuery("a.btn-down"),o=jQuery(window),u=o.scrollTop();o.on("scroll",function(){u=o.scrollTop();u>=i.offset().top?s.hide():s.show()});s.click(function(e){e.preventDefault();var t=0;r.each(function(e){var n=jQuery(this),r=n.innerHeight()-24,i=Math.round(n.offset().top);if(u>=i&&u<i+r){t=e;return!1}});if(t<r.length-1){var i=r.eq(t+1);console.log(r.eq(t));n(i.offset().top)}})}jQuery(function(){initOpenClose();initAccordion();initInputs();initSmoothScroll();initDayOrNight();initSlideShow();initOpenClose();initTeamAccordion();initAnchorLinks();initCycleCarousel();hoverFix();jcf.customForms.replaceAll()});(function(e){e.fn.slideAccordion=function(r){var i=e.extend({addClassBeforeAnimation:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,collapsible:!0,event:"click"},r);return this.each(function(){var r=e(this),s=r.find(":has("+i.slider+")");s.each(function(){var r=e(this),s=r.find(i.opener),o=r.find(i.slider);s.bind(i.event,function(e){if(!o.is(":animated"))if(r.hasClass(i.activeClass))i.collapsible&&o.slideUp(i.animSpeed,function(){n(o);r.removeClass(i.activeClass)});else{var s=r.siblings("."+i.activeClass),u=s.find(i.slider);r.addClass(i.activeClass);t(o).hide().slideDown(i.animSpeed);u.slideUp(i.animSpeed,function(){s.removeClass(i.activeClass);n(u)})}e.preventDefault()});r.hasClass(i.activeClass)?t(o):n(o)})})};var t=function(e){return e.css({position:"",top:"",left:"",width:""})},n=function(e){return e.show().css({position:"absolute",top:-9999,left:-9999,width:e.width()})}})(jQuery);ResponsiveHelper=function(e){function s(){var s=n.width()+i;if(s!==r){r=s;e.each(t,function(t,n){e.each(n.data,function(e,t){if((s<t.range[0]||s>t.range[1])&&t.currentActive){t.currentActive=!1;typeof t.disableCallback=="function"&&t.disableCallback()}});e.each(n.data,function(e,t){if(s>=t.range[0]&&s<=t.range[1]&&!t.currentActive){t.currentActive=!0;typeof t.enableCallback=="function"&&t.enableCallback()}})})}}function o(e){var t=e.split(".."),n=parseInt(t[0],10)||-Infinity,r=parseInt(t[1],10)||Infinity;return[n,r].sort(function(e,t){return e-t})}var t=[],n=e(window),r,i=0;n.bind("load",function(){if((jQuery.browser.mozilla||e.browser.opera||e.browser.msie)&&window.addEventListener){i=window.innerWidth-e("body").width();s()}n.bind("resize orientationchange",s)});return{addRange:function(n){var i={data:{}};e.each(n,function(e,t){i.data[e]={range:o(e),enableCallback:t.on,disableCallback:t.off}});t.push(i);r=null;s()}}}(jQuery);(function(e){function t(t){this.options=e.extend({holder:null,openers:"a",animSpeed:400,onlyOneActive:!0,activeClass:"active"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents()}},findElements:function(){var t=this;this.holder=e(this.options.holder);this.openers=this.holder.find(this.options.openers);this.tabs=jQuery(null);this.openers.each(function(){var e=jQuery(this),n=jQuery(e.attr("href"));e.data("tab",n);t.tabs=t.tabs.add(n);var r=e.hasClass(t.options.activeClass);n.css({display:r?"block":"none"});r&&(t.prevLink=e)})},attachEvents:function(){var e=this;this.clickHandler=function(t){t.preventDefault();var n=jQuery(this);e.options.onlyOneActive?n.hasClass(e.options.activeClass)?e.hideTab(n):e.switchTab(n):n.hasClass(e.options.activeClass)?e.hideTab(n):e.showTab(n)};this.openers.on("click",this.clickHandler)},hideTab:function(e){var t=e.data("tab");t.slideUp(this.options.animSpeed);e.removeClass(this.options.activeClass)},showTab:function(e){var t=e.data("tab");t.slideDown(this.options.animSpeed);e.addClass(this.options.activeClass)},switchTab:function(e){if(this.options.onlyOneActive){this.prevLink&&this.hideTab(this.prevLink);this.showTab(e)}else this.showTab(e);this.prevLink=e},destroy:function(){this.openers.off("click",this.clickHandler);this.tabs.css({display:""});this.openers.filter("."+this.options.activeClass).length>1&&this.openers.removeClass(this.options.activeClass)}};e.fn.tabAccordion=function(n){return this.each(function(){jQuery(this).data("TabAccordion",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){function t(t){this.options=e.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.refreshState(!0);this.autoRotate();this.makeCallback("onInit",this)}},findElements:function(){this.gallery=e(this.options.holder).addClass(this.options.galleryReadyClass);this.slides=this.gallery.find(this.options.slides);this.slidesHolder=this.slides.eq(0).parent();this.stepsCount=this.slides.length;this.btnPrev=this.gallery.find(this.options.btnPrev);this.btnNext=this.gallery.find(this.options.btnNext);this.currentIndex=0;this.options.disableFadeIE&&!e.support.opacity&&(this.options.animSpeed=0);if(typeof this.options.generatePagination=="string"){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty();this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var n=this.slides.filter("."+this.options.activeClass);n.length&&(this.currentIndex=this.slides.index(n));this.prevIndex=this.currentIndex;this.btnPlay=this.gallery.find(this.options.btnPlay);this.btnPause=this.gallery.find(this.options.btnPause);this.btnPlayPause=this.gallery.find(this.options.btnPlayPause);this.curNum=this.gallery.find(this.options.currentNumber);this.allNum=this.gallery.find(this.options.totalNumber);this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var t=this;this.resizeHandler=function(){t.onWindowResize()};e(window).bind("load resize orientationchange",this.resizeHandler);if(this.btnPrev.length){this.btnPrevHandler=function(e){e.preventDefault();t.prevSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnPrev.bind(this.options.event,this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(e){e.preventDefault();t.nextSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnNext.bind(this.options.event,this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(e){e.preventDefault();t.numSlide(t.pagerLinks.index(e.currentTarget));t.options.autorotationStopAfterClick&&t.stopRotation()};this.pagerLinks.bind(t.options.event,this.pagerLinksHandler)}if(this.btnPlay.length){this.btnPlayHandler=function(e){e.preventDefault();t.startRotation()};this.btnPlay.bind(this.options.event,this.btnPlayHandler)}if(this.btnPause.length){this.btnPauseHandler=function(e){e.preventDefault();t.stopRotation()};this.btnPause.bind(this.options.event,this.btnPauseHandler)}if(this.btnPlayPause.length){this.btnPlayPauseHandler=function(e){e.preventDefault();t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()};this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)}this.options.useSwipe&&e.fn.hammer&&n&&this.gallery.hammer({drag_block_horizontal:!0,drag_min_distance:1}).on("release dragleft dragright swipeleft swiperight",function(e){switch(e.type){case"dragright":case"dragleft":e.gesture.preventDefault();break;case"swipeleft":t.nextSlide();e.gesture.stopDetect();break;case"swiperight":t.prevSlide();e.gesture.stopDetect();break;case"release":Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold&&(e.gesture.direction=="right"?t.prevSlide():e.gesture.direction=="left"&&t.nextSlide())}});if(this.options.pauseOnHover){this.hoverHandler=function(){if(t.options.autoRotation){t.galleryHover=!0;t.pauseRotation()}};this.leaveHandler=function(){if(t.options.autoRotation){t.galleryHover=!1;t.resumeRotation()}};this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex>0){this.currentIndex--;this.switchSlide()}else if(this.options.circularRotation){this.currentIndex=this.stepsCount-1;this.switchSlide()}}},nextSlide:function(e){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex<this.stepsCount-1){this.currentIndex++;this.switchSlide()}else if(this.options.circularRotation||e===!0){this.currentIndex=0;this.switchSlide()}}},numSlide:function(e){if(this.currentIndex!=e){this.prevIndex=this.currentIndex;this.currentIndex=e;this.switchSlide()}},switchSlide:function(){var e=this;if(this.slides.length>1){this.galleryAnimating=!0;this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0});this.switchNext=function(){e.options.animSpeed?e.slides.eq(e.currentIndex).stop().animate({opacity:1},{duration:e.options.animSpeed}):e.slides.eq(e.currentIndex).css({opacity:""});setTimeout(function(){e.slides.eq(e.currentIndex).css({opacity:""});e.galleryAnimating=!1;e.autoRotate();e.makeCallback("onChange",e)},e.options.animSpeed)};if(this.options.switchSimultaneously)e.switchNext();else{clearTimeout(this.switchTimer);this.switchTimer=setTimeout(function(){e.switchNext()},this.options.animSpeed)}this.refreshState();this.makeCallback("onBeforeChange",this)}},refreshState:function(e){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.curNum.html(this.currentIndex+1);this.allNum.html(this.stepsCount);this.options.autoHeight&&(e?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed}));if(!this.options.circularRotation){this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass);this.currentIndex===0&&this.btnPrev.addClass(this.options.disabledClass);this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)}},startRotation:function(){this.options.autoRotation=!0;this.galleryHover=!1;this.autoRotationStopped=!1;this.resumeRotation()},stopRotation:function(){this.galleryHover=!0;this.autoRotationStopped=!0;this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass);this.gallery.removeClass(this.options.autorotationActiveClass);clearTimeout(this.timer)},resumeRotation:function(){if(!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.gallery.removeClass(this.options.autorotationDisabledClass);this.autoRotate()}},autoRotate:function(){var e=this;clearTimeout(this.timer);if(this.options.autoRotation&&!this.galleryHover&&!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.timer=setTimeout(function(){e.nextSlide(!0)},this.options.switchTime)}else this.pauseRotation()},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler);this.btnNext.unbind(this.options.event,this.btnNextHandler);this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler);e(window).unbind("load resize orientationchange",this.resizeHandler);this.stopRotation();this.btnPlay.unbind(this.options.event,this.btnPlayHandler);this.btnPause.unbind(this.options.event,this.btnPauseHandler);this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler);this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});this.options.useSwipe&&e.fn.hammer&&this.gallery.hammer().off("release dragleft dragright swipeleft swiperight");typeof this.options.generatePagination=="string"&&this.pagerHolder.empty();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" "));this.slidesHolder.add(this.slides).removeAttr("style")}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.fadeGallery=function(n){return this.each(function(){e(this).data("FadeGallery",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){e.fn.contentTabs=function(r){var i=e.extend({activeClass:"active",addToParent:!1,autoHeight:!1,autoRotate:!1,checkHash:!1,animSpeed:400,switchTime:3e3,effect:"none",tabLinks:"a",attrib:"href",event:"click"},r);return this.each(function(){function h(e,r){l=!0;var s=e.data("ctab"),c=r.data("ctab");a=r;f=c;(i.addToParent?u:o).removeClass(i.activeClass);(i.addToParent?r.data("cparent"):r).addClass(i.activeClass);p(s,!0);n[i.effect].hide({speed:i.animSpeed,tab:s,complete:function(){p(c.removeClass(t).width(""));n[i.effect].show({speed:i.animSpeed,tab:c,complete:function(){s.is(c)||s.width(s.width()).addClass(t);l=!1;p(c,!1);m()}})}})}function p(e,t){var n=e&&e.length?e:f;if(i.autoHeight&&n){c.stop();if(t===!1)c.css({height:""});else{var r=n.attr("style");n.show().css({width:n.width()});var s=n.outerHeight(!0);r?n.attr("style",r):n.removeAttr("style");t===!0?c.css({height:s}):c.animate({height:s},{duration:i.animSpeed})}}}function v(){var e=(i.addToParent?u:o).filter("."+i.activeClass),t=(i.addToParent?u:o).index(e),n=o.eq(t<o.length-1?t+1:0);a=o.eq(t);h(a,n)}function m(){if(i.autoRotate&&o.length>1){clearTimeout(d);d=setTimeout(function(){l?m():v()},i.switchTime)}}var r=e(this),s=e(),o=r.find(i.tabLinks),u=o.parent(),a=o.eq(0),f,l,c;if(i.checkHash&&o.filter("["+i.attrib+'="'+location.hash+'"]').length){(i.addToParent?u:o).removeClass(i.activeClass);setTimeout(function(){window.scrollTo(0,0)},1)}o.each(function(){var r=e(this),o=r.attr(i.attrib),u=r.parent();o=o.substr(o.lastIndexOf("#"));var p=e(o);s=s.add(p);r.data("cparent",u);r.data("ctab",p);!c&&p.length&&(c=p.parent());var d=i.addToParent?u:r;if(d.hasClass(i.activeClass)||i.checkHash&&location.hash===o){d.addClass(i.activeClass);a=r;f=p;p.removeClass(t).width("");n[i.effect].show({tab:p,fast:!0})}else{var v=p.width();v&&p.width(v);p.addClass(t)}r.bind(i.event,function(e){if(r!=a&&!l){h(a,r);a=r}});i.attrib==="href"&&r.bind("click",function(e){e.preventDefault()})});i.autoHeight&&e(window).bind("resize orientationchange",function(){s.not(f).removeClass(t).show().each(function(){var e=jQuery(this),t=e.css({width:""}).width();t&&e.width(t)}).hide().addClass(t);p(f,!1)});var d;m()})};var t="js-tab-hidden";e(function(){var n=e('<style type="text/css">')[0],r="."+t;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r));e("head").append(n)});var n={none:{show:function(e){e.tab.css({display:"block"});e.complete&&e.complete()},hide:function(e){e.tab.css({display:"none"});e.complete&&e.complete()}},fade:{show:function(e){e.fast&&(e.speed=1);e.tab.fadeIn(e.speed);e.complete&&setTimeout(e.complete,e.speed)},hide:function(e){e.fast&&(e.speed=1);e.tab.fadeOut(e.speed);e.complete&&setTimeout(e.complete,e.speed)}},slide:{show:function(t){var n=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),r=e('<div class="effect-div">').insertBefore(t.tab).append(t.tab);r.css({width:"100%",overflow:"hidden",position:"relative"});t.tab.css({marginTop:-n,display:"block"});t.fast&&(t.speed=1);t.tab.animate({marginTop:0},{duration:t.speed,complete:function(){t.tab.css({marginTop:"",width:""}).insertBefore(r);r.remove();t.complete&&t.complete()}})},hide:function(t){var n=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),r=e('<div class="effect-div">').insertBefore(t.tab).append(t.tab);r.css({width:"100%",overflow:"hidden",position:"relative"});t.fast&&(t.speed=1);t.tab.animate({marginTop:-n},{duration:t.speed,complete:function(){t.tab.css({display:"none",marginTop:"",width:""}).insertBefore(r);r.remove();t.complete&&t.complete()}})}}}})(jQuery);(function(e){function t(t){this.options=e.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit")}},findElements:function(){this.holder=e(this.options.holder);this.opener=this.holder.find(this.options.opener);this.slider=this.holder.find(this.options.slider);this.holder.hasClass(this.options.activeClass)||this.slider.addClass(n)},attachEvents:function(){var t=this;this.eventHandler=function(e){e.preventDefault();t.slider.hasClass(n)?t.showSlide():t.hideSlide()};t.opener.bind(t.options.event,this.eventHandler);if(t.options.event==="over"){t.opener.bind("mouseenter",function(){t.holder.removeClass(t.options.activeClass);t.opener.trigger(t.options.event)});t.holder.bind("mouseleave",function(){t.holder.addClass(t.options.activeClass);t.opener.trigger(t.options.event)})}t.outsideClickHandler=function(n){if(t.options.hideOnClickOutside){var r=e(n.target);!r.is(t.holder)&&!r.closest(t.holder).length&&t.hideSlide()}}},showSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.addClass(t.options.activeClass);t.slider.removeClass(n);e(document).bind("click",t.outsideClickHandler);t.makeCallback("animStart",!0);r[t.options.effect].show({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.addClass(t.options.activeClass);t.makeCallback("animEnd",!0)}})},hideSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.removeClass(t.options.activeClass);e(document).unbind("click",t.outsideClickHandler);t.makeCallback("animStart",!1);r[t.options.effect].hide({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.removeClass(t.options.activeClass);t.slider.addClass(n);t.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(n).css({display:""});this.opener.unbind(this.options.event,this.eventHandler);this.holder.removeClass(this.options.activeClass).removeData("OpenClose");e(document).unbind("click",this.outsideClickHandler)},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}}};var n="js-slide-hidden";e(function(){var t=e('<style type="text/css">')[0],r="."+n;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r));e("head").append(t)});var r={slide:{show:function(e){e.box.stop(!0).hide().slideDown(e.speed,e.complete)},hide:function(e){e.box.stop(!0).slideUp(e.speed,e.complete)}},fade:{show:function(e){e.box.stop(!0).hide().fadeIn(e.speed,e.complete)},hide:function(e){e.box.stop(!0).fadeOut(e.speed,e.complete)}},none:{show:function(e){e.box.hide().show(0,e.complete)},hide:function(e){e.box.hide(0,e.complete)}}};e.fn.openClose=function(n){return this.each(function(){jQuery(this).data("OpenClose",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(){function t(e){var t=[];for(var n=0,r=t.length=e.length;n<r;n++)t[n]=e[n];return t}function n(e){return(e.type?e.type:e.tagName).toLowerCase()}function r(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1}function i(e,t){r(e,t)||(e.className+=" "+t)}function s(e,t){r(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))}function o(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]}var e=[];PlaceholderInput=function(){this.options={element:null,showUntilTyping:!1,wrapWithElement:!1,getParentByClass:!1,showPasswordBullets:!1,placeholderAttr:"value",inputFocusClass:"focus",inputActiveClass:"text-active",parentFocusClass:"parent-focus",parentActiveClass:"parent-active",labelFocusClass:"label-focus",labelActiveClass:"label-active",fakeElementClass:"input-placeholder-text"};e.push(this);this.init.apply(this,arguments)};PlaceholderInput.refreshAllInputs=function(t){for(var n=0;n<e.length;n++)t!==e[n]&&e[n].refreshState()};PlaceholderInput.replaceByOptions=function(e){var r=[].concat(t(document.getElementsByTagName("input")),t(document.getElementsByTagName("textarea")));for(var i=0;i<r.length;i++)if(r[i].className.indexOf(e.skipClass)<0){var s=n(r[i]),o=r[i].getAttribute("placeholder");(e.focusOnly||e.clearInputs&&(s==="text"||s==="email"||o)||e.clearTextareas&&s==="textarea"||e.clearPasswords&&s==="password")&&new PlaceholderInput({element:r[i],focusOnly:e.focusOnly,wrapWithElement:e.wrapWithElement,showUntilTyping:e.showUntilTyping,getParentByClass:e.getParentByClass,showPasswordBullets:e.showPasswordBullets,placeholderAttr:o?"placeholder":e.placeholderAttr})}};PlaceholderInput.prototype={init:function(e){this.setOptions(e);if(this.element&&this.element.PlaceholderInst)this.element.PlaceholderInst.refreshClasses();else{this.element.PlaceholderInst=this;if(this.elementType!=="radio"||this.elementType!=="checkbox"||this.elementType!=="file"){this.initElements();this.attachEvents();this.refreshClasses()}}},setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.element){this.element=this.options.element;this.elementType=n(this.element);this.options.focusOnly?this.wrapWithElement=!1:this.elementType==="password"&&this.options.showPasswordBullets?this.wrapWithElement=!1:this.wrapWithElement=this.elementType==="password"||this.options.showUntilTyping?!0:this.options.wrapWithElement;this.setPlaceholderValue(this.options.placeholderAttr)}},setPlaceholderValue:function(e){this.origValue=e==="value"?this.element.defaultValue:this.element.getAttribute(e)||"";this.options.placeholderAttr!=="value"&&this.element.removeAttribute(this.options.placeholderAttr)},initElements:function(){if(this.wrapWithElement){this.fakeElement=document.createElement("span");this.fakeElement.className=this.options.fakeElementClass;this.fakeElement.innerHTML+=this.origValue;this.fakeElement.style.color=u(this.element,"color");this.fakeElement.style.position="absolute";this.element.parentNode.insertBefore(this.fakeElement,this.element);if(this.element.value===this.origValue||!this.element.value){this.element.value="";this.togglePlaceholderText(!0)}else this.togglePlaceholderText(!1)}else!this.element.value&&this.origValue.length&&(this.element.value=this.origValue);if(this.element.id){this.labels=document.getElementsByTagName("label");for(var e=0;e<this.labels.length;e++)if(this.labels[e].htmlFor===this.element.id){this.labelFor=this.labels[e];break}}this.elementParent=this.element.parentNode;if(typeof this.options.getParentByClass=="string"){var t=this.element;while(t.parentNode){if(r(t.parentNode,this.options.getParentByClass)){this.elementParent=t.parentNode;break}t=t.parentNode}}},attachEvents:function(){this.element.onfocus=o(this.focusHandler,this);this.element.onblur=o(this.blurHandler,this);if(this.options.showUntilTyping){this.element.onkeydown=o(this.typingHandler,this);this.element.onpaste=o(this.typingHandler,this)}this.wrapWithElement&&(this.fakeElement.onclick=o(this.focusSetter,this))},togglePlaceholderText:function(e){!this.element.readOnly&&!this.options.focusOnly&&(this.wrapWithElement?this.fakeElement.style.display=e?"":"none":this.element.value=e?this.origValue:"")},focusSetter:function(){this.element.focus()},focusHandler:function(){clearInterval(this.checkerInterval);this.checkerInterval=setInterval(o(this.intervalHandler,this),1);this.focused=!0;if(!this.element.value.length||this.element.value===this.origValue)this.options.showUntilTyping||this.togglePlaceholderText(!1);this.refreshClasses()},blurHandler:function(){clearInterval(this.checkerInterval);this.focused=!1;(!this.element.value.length||this.element.value===this.origValue)&&this.togglePlaceholderText(!0);this.refreshClasses();PlaceholderInput.refreshAllInputs(this)},typingHandler:function(){setTimeout(o(function(){if(this.element.value.length){this.togglePlaceholderText(!1);this.refreshClasses()}},this),10)},intervalHandler:function(){typeof this.tmpValue=="undefined"&&(this.tmpValue=this.element.value);this.tmpValue!=this.element.value&&PlaceholderInput.refreshAllInputs(this)},refreshState:function(){this.wrapWithElement&&(this.element.value.length&&this.element.value!==this.origValue?this.togglePlaceholderText(!1):this.element.value.length||this.togglePlaceholderText(!0));this.refreshClasses()},refreshClasses:function(){this.textActive=this.focused||this.element.value.length&&this.element.value!==this.origValue;this.setStateClass(this.element,this.options.inputFocusClass,this.focused);this.setStateClass(this.elementParent,this.options.parentFocusClass,this.focused);this.setStateClass(this.labelFor,this.options.labelFocusClass,this.focused);this.setStateClass(this.element,this.options.inputActiveClass,this.textActive);this.setStateClass(this.elementParent,this.options.parentActiveClass,this.textActive);this.setStateClass(this.labelFor,this.options.labelActiveClass,this.textActive)},setStateClass:function(e,t,n){if(!e)return;n?i(e,t):s(e,t)}}})();(function(e){function t(t){this.options=e.extend({activeClass:"active",mask:"div.slides-mask",slider:">ul",slides:">li",btnPrev:".btn-prev",btnNext:".btn-next",pagerLinks:"ul.pager > li",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",galleryReadyClass:"gallery-js-ready",currentNumber:"span.current-num",totalNumber:"span.total-num",maskAutoSize:!1,autoRotation:!1,pauseOnHover:!1,stretchSlideToMask:!1,switchTime:3e3,animSpeed:500,handleTouch:!0,swipeThreshold:15,vertical:!1},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit",this)}},findElements:function(){this.holder=e(this.options.holder).addClass(this.options.galleryReadyClass);this.mask=this.holder.find(this.options.mask);this.slider=this.mask.find(this.options.slider);this.slides=this.slider.find(this.options.slides);this.btnPrev=this.holder.find(this.options.btnPrev);this.btnNext=this.holder.find(this.options.btnNext);this.currentNumber=this.holder.find(this.options.currentNumber);this.totalNumber=this.holder.find(this.options.totalNumber);typeof this.options.generatePagination=="string"?this.pagerLinks=this.buildPagination():this.pagerLinks=this.holder.find(this.options.pagerLinks);this.sizeProperty=this.options.vertical?"height":"width";this.positionProperty=this.options.vertical?"top":"left";this.animProperty=
this.options.vertical?"marginTop":"marginLeft";this.slideSize=this.slides[this.sizeProperty]();this.currentIndex=0;this.prevIndex=0;this.options.maskAutoSize=this.options.vertical?!1:this.options.maskAutoSize;this.options.vertical&&this.mask.css({height:this.slides.innerHeight()});this.options.maskAutoSize&&this.mask.css({height:this.slider.height()});this.slider.css({position:"relative",height:this.options.vertical?this.slideSize*this.slides.length:"100%"});this.slides.css({position:"absolute"}).css(this.positionProperty,-9999).eq(this.currentIndex).css(this.positionProperty,0);this.refreshState()},buildPagination:function(){var t=e();this.pagerHolder||(this.pagerHolder=this.holder.find(this.options.generatePagination));if(this.pagerHolder.length){this.pagerHolder.empty();this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var n=0;n<this.slides.length;n++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(n+1);t=this.pagerList.children()}return t},attachEvents:function(){var t=this;if(this.btnPrev.length){this.btnPrevHandler=function(e){e.preventDefault();t.prevSlide()};this.btnPrev.click(this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(e){e.preventDefault();t.nextSlide()};this.btnNext.click(this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(e){e.preventDefault();t.numSlide(t.pagerLinks.index(e.currentTarget))};this.pagerLinks.click(this.pagerLinksHandler)}if(this.options.pauseOnHover){this.hoverHandler=function(){clearTimeout(t.timer)};this.leaveHandler=function(){t.autoRotate()};this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}this.resizeHandler=function(){if(!t.animating){t.makeCallback("onResize",t);t.options.stretchSlideToMask&&t.resizeSlides();t.resizeHolder();t.setSlidesPosition(t.currentIndex)}};e(window).bind("load resize orientationchange",this.resizeHandler);t.options.stretchSlideToMask&&t.resizeSlides();this.options.handleTouch&&jQuery.fn.hammer&&this.slides.length>1&&n&&this.mask.hammer({drag_block_horizontal:t.options.vertical?!1:!0,drag_block_vertical:t.options.vertical?!0:!1,drag_min_distance:1}).on("touch release "+(this.options.vertical?"swipeup swipedown dragup dragdown":"swipeleft swiperight dragleft dragright"),function(e){switch(e.type){case t.options.vertical?"dragup":"dragright":case t.options.vertical?"dragdown":"dragleft":if(!t.animating){t.swipeOffset=-t.slideSize+e.gesture[t.options.vertical?"deltaY":"deltaX"];t.slider.css(t.animProperty,t.swipeOffset);clearTimeout(t.timer)}e.gesture.preventDefault();break;case t.options.vertical?"swipeup":"swipeleft":if(!t.animating){t.nextSlide();t.swipeOffset=0}e.gesture.stopDetect();break;case t.options.vertical?"swipedown":"swiperight":if(!t.animating){t.prevSlide();t.swipeOffset=0}e.gesture.stopDetect();break;case"release":if(Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold)t.options.vertical?e.gesture.direction=="down"?t.prevSlide():e.gesture.direction=="up"&&t.nextSlide():e.gesture.direction=="right"?t.prevSlide():e.gesture.direction=="left"&&t.nextSlide();else{var n={};n[t.animProperty]=-t.slideSize;t.slider.animate(n,{duration:t.options.animSpeed})}t.swipeOffset=0}});this.autoRotate();this.resizeHolder();this.setSlidesPosition(this.currentIndex)},resizeSlides:function(){this.slideSize=this.mask[this.options.vertical?"height":"width"]();this.slides.css(this.sizeProperty,this.slideSize)},resizeHolder:function(){this.options.maskAutoSize&&this.mask.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){if(!this.animating&&this.slides.length>1){this.direction=-1;this.prevIndex=this.currentIndex;this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-1;this.switchSlide()}},nextSlide:function(e){if(!this.animating&&this.slides.length>1){this.direction=1;this.prevIndex=this.currentIndex;this.currentIndex<this.slides.length-1?this.currentIndex++:this.currentIndex=0;this.switchSlide()}},numSlide:function(e){if(!this.animating&&this.currentIndex!==e&&this.slides.length>1){this.direction=e>this.currentIndex?1:-1;this.prevIndex=this.currentIndex;this.currentIndex=e;this.switchSlide()}},preparePosition:function(){this.setSlidesPosition(this.prevIndex,this.direction<0?this.currentIndex:null,this.direction>0?this.currentIndex:null,this.direction)},setSlidesPosition:function(e,t,n,r){if(this.slides.length>1){var i=typeof t=="number"?t:e>0?e-1:this.slides.length-1,s=typeof n=="number"?n:e<this.slides.length-1?e+1:0;this.slider.css(this.animProperty,this.swipeOffset?this.swipeOffset:-this.slideSize);this.slides.css(this.positionProperty,-9999).eq(e).css(this.positionProperty,this.slideSize);if(i===s&&typeof r=="number"){var o=r>0?this.slideSize*2:0;this.slides.eq(s).css(this.positionProperty,o)}else{this.slides.eq(i).css(this.positionProperty,0);this.slides.eq(s).css(this.positionProperty,this.slideSize*2)}}},switchSlide:function(){var e=this,t=this.slides.eq(this.prevIndex),n=this.slides.eq(this.currentIndex);this.animating=!0;this.options.maskAutoSize&&this.mask.animate({height:n.outerHeight(!0)},{duration:this.options.animSpeed});var r={};r[this.animProperty]=this.direction>0?-this.slideSize*2:0;this.preparePosition();this.slider.animate(r,{duration:this.options.animSpeed,complete:function(){e.setSlidesPosition(e.currentIndex);e.animating=!1;e.autoRotate()}});this.refreshState()},refreshState:function(e){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.currentNumber.html(this.currentIndex+1);this.totalNumber.html(this.slides.length)},autoRotate:function(){var e=this;clearTimeout(this.timer);this.options.autoRotation&&(this.timer=setTimeout(function(){e.nextSlide()},this.options.switchTime))},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind("click",this.btnPrevHandler);this.btnNext.unbind("click",this.btnNextHandler);this.pagerLinks.unbind("click",this.pagerLinksHandler);this.holder.unbind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});e(window).unbind("load resize orientationchange",this.resizeHandler);clearTimeout(this.timer);this.options.handleTouch&&e.fn.hammer&&this.mask.hammer().off("touch release swipeleft swiperight swipeup swipedown dragup dragdown dragleft dragright");this.holder.removeClass(this.options.galleryReadyClass);this.slider.add(this.slides).removeAttr("style");typeof this.options.generatePagination=="string"&&this.pagerHolder.empty()}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.scrollAbsoluteGallery=function(n){return this.each(function(){e(this).data("ScrollAbsoluteGallery",new t(e.extend(n,{holder:this})))})}})(jQuery);jcf={modules:{},plugins:{},baseOptions:{unselectableClass:"jcf-unselectable",labelActiveClass:"jcf-label-active",labelDisabledClass:"jcf-label-disabled",classPrefix:"jcf-class-",hiddenClass:"jcf-hidden",focusClass:"jcf-focus",wrapperTag:"div"},customForms:{setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&typeof e[t]=="object"&&jcf.lib.extend(jcf.modules[t].prototype.defaultOptions,e[t])},replaceAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf?n[r].jcf.refreshState():!jcf.lib.hasClass(n[r],"default")&&jcf.modules[t].prototype.checkElement(n[r])&&new jcf.modules[t]({replaces:n[r]})}},refreshAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf&&n[r].jcf.refreshState()}},refreshElement:function(e){e&&e.jcf&&e.jcf.refreshState()},destroyAll:function(){for(var e in jcf.modules){var t=jcf.lib.queryBySelector(jcf.modules[e].prototype.selector);for(var n=0;n<t.length;n++)t[n].jcf&&t[n].jcf.destroy()}}},isTouchDevice:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,isWinPhoneDevice:navigator.msPointerEnabled&&/MSIE 10.*Touch/.test(navigator.userAgent),setBaseModule:function(e){jcf.customControl=function(e){this.options=jcf.lib.extend({},jcf.baseOptions,this.defaultOptions,e);this.init()};for(var t in e)jcf.customControl.prototype[t]=e[t]},addModule:function(e){if(e.name){jcf.modules[e.name]=function(){jcf.modules[e.name].superclass.constructor.apply(this,arguments)};jcf.lib.inherit(jcf.modules[e.name],jcf.customControl);for(var t in e)jcf.modules[e.name].prototype[t]=e[t];jcf.modules[e.name].prototype.onCreateModule();for(var n in jcf.modules)jcf.modules[n]!=jcf.modules[e.name]&&jcf.modules[n].prototype.onModuleAdded(jcf.modules[e.name])}},addPlugin:function(e){if(e&&e.name){jcf.plugins[e.name]=function(){this.init.apply(this,arguments)};for(var t in e)jcf.plugins[e.name].prototype[t]=e[t]}},init:function(){if(navigator.msPointerEnabled){this.eventPress="MSPointerDown";this.eventMove="MSPointerMove";this.eventRelease="MSPointerUp"}else{this.eventPress=this.isTouchDevice?"touchstart":"mousedown";this.eventMove=this.isTouchDevice?"touchmove":"mousemove";this.eventRelease=this.isTouchDevice?"touchend":"mouseup"}setTimeout(function(){jcf.lib.domReady(function(){jcf.initStyles()})},1);return this},initStyles:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style"),n=document.createTextNode("."+jcf.baseOptions.unselectableClass+"{"+"-moz-user-select:none;"+"-webkit-tap-highlight-color:rgba(255,255,255,0);"+"-webkit-user-select:none;"+"user-select:none;"+"}");t.type="text/css";t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n);e.appendChild(t)}}.init();jcf.setBaseModule({init:function(){if(this.options.replaces){this.realElement=this.options.replaces;this.realElement.jcf=this;this.replaceObject()}},defaultOptions:{},checkElement:function(e){return!0},replaceObject:function(){this.createWrapper();this.attachEvents();this.fixStyles();this.setupWrapper()},createWrapper:function(){this.fakeElement=jcf.lib.createElement(this.options.wrapperTag);this.labelFor=jcf.lib.getLabelFor(this.realElement);jcf.lib.disableTextSelection(this.fakeElement);jcf.lib.addClass(this.fakeElement,jcf.lib.getAllClasses(this.realElement.className,this.options.classPrefix));jcf.lib.addClass(this.realElement,jcf.baseOptions.hiddenClass)},attachEvents:function(){jcf.lib.event.add(this.realElement,"focus",this.onFocusHandler,this);jcf.lib.event.add(this.realElement,"blur",this.onBlurHandler,this);jcf.lib.event.add(this.fakeElement,"click",this.onFakeClick,this);jcf.lib.event.add(this.fakeElement,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.fakeElement,jcf.eventRelease,this.onFakeReleased,this);if(this.labelFor){this.labelFor.jcf=this;jcf.lib.event.add(this.labelFor,"click",this.onFakeClick,this);jcf.lib.event.add(this.labelFor,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.labelFor,jcf.eventRelease,this.onFakeReleased,this)}},fixStyles:function(){if(jcf.isTouchDevice){var e="rgba(255,255,255,0)";this.realElement.style.webkitTapHighlightColor=e;this.fakeElement.style.webkitTapHighlightColor=e;this.labelFor&&(this.labelFor.style.webkitTapHighlightColor=e)}},setupWrapper:function(){},refreshState:function(){},destroy:function(){this.fakeElement&&this.fakeElement.parentNode&&this.fakeElement.parentNode.removeChild(this.fakeElement);jcf.lib.removeClass(this.realElement,jcf.baseOptions.hiddenClass);this.realElement.jcf=null},onFocus:function(){jcf.lib.addClass(this.fakeElement,this.options.focusClass)},onBlur:function(e){jcf.lib.removeClass(this.fakeElement,this.options.focusClass)},onFocusHandler:function(){if(this.focused)return;this.focused=!0;if(jcf.isTouchDevice){if(jcf.focusedInstance&&jcf.focusedInstance.realElement!=this.realElement){jcf.focusedInstance.onBlur();jcf.focusedInstance.realElement.blur()}jcf.focusedInstance=this}this.onFocus.apply(this,arguments)},onBlurHandler:function(){if(!this.pressedFlag){this.focused=!1;this.onBlur.apply(this,arguments)}},onFakeClick:function(){jcf.isTouchDevice?this.onFocus():this.realElement.disabled||this.realElement.focus()},onFakePressed:function(e){this.pressedFlag=!0},onFakeReleased:function(){this.pressedFlag=!1},onCreateModule:function(){},onModuleAdded:function(e){},onControlReady:function(){}});jcf.lib={bind:function(e,t){return function(){return e.apply(t,arguments)}},browser:function(){var e=navigator.userAgent.toLowerCase(),t={},n=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];t[n[1]]=!0;t.version=n[2]||"0";t.safariMac=e.indexOf("mac")!=-1&&e.indexOf("safari")!=-1;return t}(),getOffset:function(e){if(e.getBoundingClientRect&&!jcf.isWinPhoneDevice){var t=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.clientLeft||document.body.clientLeft||0,i=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(e.getBoundingClientRect().top+n-i),left:Math.round(e.getBoundingClientRect().left+t-r)}}var s=0,o=0;while(e.offsetParent){s+=e.offsetLeft;o+=e.offsetTop;e=e.offsetParent}return{top:o,left:s}},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop},getScrollLeft:function(){return window.pageXOffset||document.documentElement.scrollLeft},getWindowWidth:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth},getWindowHeight:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},getStyle:function(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]},getParent:function(e,t){while(e.parentNode&&e.parentNode!=document.body){if(e.parentNode.tagName.toLowerCase()==t.toLowerCase())return e.parentNode;e=e.parentNode}return!1},isParent:function(e,t){while(e.parentNode){if(e.parentNode===t)return!0;e=e.parentNode}return!1},getLabelFor:function(e){var t=jcf.lib.getParent(e,"label");if(t)return t;if(e.id)return jcf.lib.queryBySelector('label[for="'+e.id+'"]')[0]},disableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=function(){return!1}:window.opera?e.setAttribute("unselectable","on"):jcf.lib.addClass(e,jcf.baseOptions.unselectableClass)},enableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=null:window.opera?e.removeAttribute("unselectable"):jcf.lib.removeClass(e,jcf.baseOptions.unselectableClass)},queryBySelector:function(e,t){if(typeof t=="string"){var n=[],r=this.getElementsBySelector(t);for(var i=0,s;i<r.length;i++){s=Array.prototype.slice.call(this.getElementsBySelector(e,r[i]));n=n.concat(s)}return n}return this.getElementsBySelector(e,t)},prevSibling:function(e){while(e=e.previousSibling)if(e.nodeType==1)break;return e},nextSibling:function(e){while(e=e.nextSibling)if(e.nodeType==1)break;return e},fireEvent:function(e,t){if(e.dispatchEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0);return!e.dispatchEvent(n)}if(document.createEventObject){var n=document.createEventObject();return e.fireEvent("on"+t,n)}},isParent:function(e,t){while(t.parentNode){if(e==t)return!0;t=t.parentNode}return!1},inherit:function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t.prototype},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},hasClass:function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(!e.className.length||e.className.charAt(e.className.length-1)===" "?"":" ")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/\s+$/,""))},toggleClass:function(e,t,n){n?this.addClass(e,t):this.removeClass(e,t)},createElement:function(e,t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))switch(r){case"class":n.className=t[r];break;case"html":n.innerHTML=t[r];break;case"style":this.setStyles(n,t[r]);break;default:n.setAttribute(r,t[r])}return n},setStyles:function(e,t){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"float":e.style.cssFloat=t[n];break;case"opacity":e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+t[n]*100+")";e.style.opacity=t[n];break;default:e.style[n]=(typeof t[n]=="undefined"?0:t[n])+(typeof t[n]=="number"?"px":"")}return e},getInnerWidth:function(e){return e.offsetWidth-(parseInt(this.getStyle(e,"paddingLeft"))||0)-(parseInt(this.getStyle(e,"paddingRight"))||0)},getInnerHeight:function(e){return e.offsetHeight-(parseInt(this.getStyle(e,"paddingTop"))||0)-(parseInt(this.getStyle(e,"paddingBottom"))||0)},getAllClasses:function(e,t,n){n||(n="");t||(t="");return e?e.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ").replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},getElementsBySelector:function(e,t){if(typeof document.querySelectorAll=="function")return(t||document).querySelectorAll(e);var n=e.split(","),r=[];for(var i=0;i<n.length;i++){var s=[t||document],o=n[i].replace(/^\s+/,"").replace(/\s+$/,"").split(" ");for(var u=0;u<o.length;u++){token=o[u].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var a=token.split("#"),f=a[0],l=a[1],c=document.getElementById(l);if(f&&c.nodeName.toLowerCase()!=f)return[];s=[c];continue}if(token.indexOf(".")>-1){var a=token.split("."),f=a[0]||"*",h=a[1],p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=[];var y=0;for(var b=0;b<p.length;b++)p[b].className&&p[b].className.match(new RegExp("(\\s|^)"+h+"(\\s|$)"))&&(s[y++]=p[b]);continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var f=RegExp.$1||"*",w=RegExp.$2,E=RegExp.$3,S=RegExp.$4;w.toLowerCase()=="for"&&this.browser.msie&&this.browser.version<8&&(w="htmlFor");var p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;m[g];g++)p[d++]=m[g]}s=[];var y=0,x;switch(E){case"=":x=function(e){return e.getAttribute(w)==S};break;case"~":x=function(e){return e.getAttribute(w).match(new RegExp("(\\s|^)"+S+"(\\s|$)"))};break;case"|":x=function(e){return e.getAttribute(w).match(new RegExp("^"+S+"-?"))};break;case"^":x=function(e){return e.getAttribute(w).indexOf(S)==0};break;case"$":x=function(e){return e.getAttribute(w).lastIndexOf(S)==e.getAttribute(w).length-S.length};break;case"*":x=function(e){return e.getAttribute(w).indexOf(S)>-1};break;default:x=function(e){return e.getAttribute(w)}}s=[];var y=0;for(var b=0;b<p.length;b++)x(p[b])&&(s[y++]=p[b]);continue}f=token;var p=[],d=0;for(var v=0;v<s.length;v++){var m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=p}r=[].concat(r,s)}return r},scrollSize:function(){function i(){t&&s();e=document.createElement("div");t=document.createElement("div");t.style.cssText="position:absolute;overflow:hidden;width:100px;height:100px";t.appendChild(e);document.body.appendChild(t)}function s(){document.body.removeChild(t);t=null}function o(o){i();e.style.cssText="height:"+(o?"100%":"200px");n=o?e.offsetHeight:e.offsetWidth;t.style.overflow="scroll";e.innerHTML=1;r=o?e.offsetHeight:e.offsetWidth;o&&t.clientHeight&&(r=t.clientHeight);s();return n-r}var e,t,n,r;return{getWidth:function(){return o(!1)},getHeight:function(){return o(!0)}}}(),domReady:function(e){function n(){if(t)return;t=!0;e()}var t=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function r(){if(t)return;if(!document.body)return;try{document.documentElement.doScroll("left");n()}catch(e){setTimeout(r,0)}}r()}document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()})}window.addEventListener?window.addEventListener("load",n,!1):window.attachEvent&&window.attachEvent("onload",n)},event:function(){function t(e){e=e||window.event;if(e.isFixed)return e;e.isFixed=!0;e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagaton||function(){this.cancelBubble=!0};e.target||(e.target=e.srcElement);!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement);if(e.pageX==null&&e.clientX!=null){var t=document.documentElement,n=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0);e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0)}!e.which&&e.button&&(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0);if(e.type==="DOMMouseScroll"||e.type==="mousewheel"){e.mWheelDelta=0;e.wheelDelta?e.mWheelDelta=e.wheelDelta/120:e.detail&&(e.mWheelDelta=-e.detail/3)}return e}function n(e,n){e=t(e);var r=this.events[e.type];for(var i in r){var s=r[i],o=s.call(n||this,e);if(o===!1){e.preventDefault();e.stopPropagation()}}}var e=0,r={add:function(t,i,s,o){t.setInterval&&t!=window&&!t.frameElement&&(t=window);s.guid||(s.guid=++e);if(!t.events){t.events={};t.handle=function(e){return n.call(t,e)}}if(!t.events[i]){t.events[i]={};t.addEventListener?t.addEventListener(i,t.handle,!1):t.attachEvent&&t.attachEvent("on"+i,t.handle);i==="mousewheel"&&r.add(t,"DOMMouseScroll",s,o)}var u=jcf.lib.bind(s,o);u.guid=s.guid;t.events[i][s.guid]=o?u:s},remove:function(e,t,n){var i=e.events&&e.events[t];if(!i)return;delete i[n.guid];for(var s in i)return;e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle);delete e.events[t];for(var s in e.events)return;try{delete e.handle;delete e.events}catch(o){if(e.removeAttribute){e.removeAttribute("handle");e.removeAttribute("events")}}t==="mousewheel"&&r.remove(e,"DOMMouseScroll",n)}};return r}()};jcf.addModule({name:"select",selector:"select",defaultOptions:{useNativeDropOnMobileDevices:!0,hideDropOnScroll:!0,showNativeDrop:!1,handleDropPosition:!1,selectDropPosition:"bottom",wrapperClass:"select-area",focusClass:"select-focus",dropActiveClass:"select-active",selectedClass:"item-selected",currentSelectedClass:"current-selected",disabledClass:"select-disabled",valueSelector:"span.center",optGroupClass:"optgroup",openerSelector:"a.select-opener",selectStructure:'<span class="left"></span><span class="center"></span><a class="select-opener"></a>',wrapperTag:"span",classPrefix:"select-",dropMaxHeight:200,dropFlippedClass:"select-options-flipped",dropHiddenClass:"options-hidden",dropScrollableClass:"options-overflow",dropClass:"select-options",dropClassPrefix:"drop-",dropStructure:'<div class="drop-holder"><div class="drop-list"></div></div>',dropSelector:"div.drop-list"},checkElement:function(e){return!e.size&&!e.multiple},setupWrapper:function(){jcf.lib.addClass(this.fakeElement,this.options.wrapperClass);this.realElement.parentNode.insertBefore(this.fakeElement,this.realElement);this.fakeElement.innerHTML=this.options.selectStructure;this.fakeElement.style.width=this.realElement.offsetWidth>0?this.realElement.offsetWidth+"px":"auto";this.options.useNativeDropOnMobileDevices&&(jcf.isTouchDevice||jcf.isWinPhoneDevice)&&(this.options.showNativeDrop=!0);if(this.options.showNativeDrop){this.fakeElement.appendChild(this.realElement);jcf.lib.removeClass(this.realElement,this.options.hiddenClass);jcf.lib.setStyles(this.realElement,{top:0,left:0,margin:0,padding:0,opacity:0,border:"none",position:"absolute",width:jcf.lib.getInnerWidth(this.fakeElement)-1,height:jcf.lib.getInnerHeight(this.fakeElement)-1});jcf.lib.event.add(this.realElement,jcf.eventPress,function(){this.realElement.title=""},this)}this.opener=jcf.lib.queryBySelector(this.options.openerSelector,this.fakeElement)[0];this.valueText=jcf.lib.queryBySelector(this.options.valueSelector,this.fakeElement)[0];jcf.lib.disableTextSelection(this.valueText);this.opener.jcf=this;if(!this.options.showNativeDrop){this.createDropdown();this.refreshState();this.onControlReady(this);this.hideDropdown(!0)}else this.refreshState();this.addEvents()},addEvents:function(){this.options.showNativeDrop?jcf.lib.event.add(this.realElement,"click",this.onChange,this):jcf.lib.event.add(this.fakeElement,"click",this.toggleDropdown,this);jcf.lib.event.add(this.realElement,"change",this.onChange,this)},onFakeClick:function(){},onFocus:function(){jcf.modules[this.name].superclass.onFocus.apply(this,arguments);if(!this.options.showNativeDrop){jcf.lib.browser.safariMac&&this.realElement.setAttribute("size","2");jcf.lib.event.add(this.realElement,"keydown",this.onKeyDown,this);if(jcf.activeControl&&jcf.activeControl!=this){jcf.activeControl.hideDropdown();jcf.activeControl=this}}},onBlur:function(){if(!this.options.showNativeDrop){jcf.lib.browser.safariMac&&this.realElement.removeAttribute("size");if(!this.isActiveDrop()||!this.isOverDrop()){jcf.modules[this.name].superclass.onBlur.apply(this);jcf.activeControl===this&&(jcf.activeControl=null);jcf.isTouchDevice||this.hideDropdown()}jcf.lib.event.remove(this.realElement,"keydown",this.onKeyDown)}else jcf.modules[this.name].superclass.onBlur.apply(this)},onChange:function(){this.refreshState()},onKeyDown:function(e){this.dropOpened=!0;jcf.tmpFlag=!0;setTimeout(function(){jcf.tmpFlag=!1},100);var t=this;t.keyboardFix=!0;setTimeout(function(){t.refreshState()},10);if(e.keyCode==13){t.toggleDropdown.apply(t);return!1}},onResizeWindow:function(e){this.isActiveDrop()&&this.hideDropdown()},onScrollWindow:function(e){this.options.hideDropOnScroll?this.hideDropdown():this.isActiveDrop()&&this.positionDropdown()},onOptionClick:function(e){var t=e.target&&e.target.tagName&&e.target.tagName.toLowerCase()=="li"?e.target:jcf.lib.getParent(e.target,"li");if(t){this.dropOpened=!0;this.realElement.selectedIndex=parseInt(t.getAttribute("rel"));jcf.isTouchDevice?this.onFocus():this.realElement.focus();this.refreshState();this.hideDropdown();jcf.lib.fireEvent(this.realElement,"change")}return!1},onClickOutside:function(e){if(jcf.tmpFlag){jcf.tmpFlag=!1;return}!jcf.lib.isParent(this.fakeElement,e.target)&&!jcf.lib.isParent(this.selectDrop,e.target)&&this.hideDropdown()},onDropHover:function(e){if(!this.keyboardFix){this.hoverFlag=!0;var t=e.target&&e.target.tagName&&e.target.tagName.toLowerCase()=="li"?e.target:jcf.lib.getParent(e.target,"li");if(t){this.realElement.selectedIndex=parseInt(t.getAttribute("rel"));this.refreshSelectedClass(parseInt(t.getAttribute("rel")))}}else this.keyboardFix=!1},onDropLeave:function(){this.hoverFlag=!1},isActiveDrop:function(){return!jcf.lib.hasClass(this.selectDrop,this.options.dropHiddenClass)},isOverDrop:function(){return this.hoverFlag},createDropdown:function(){this.selectDrop&&this.selectDrop.parentNode.removeChild(this.selectDrop);this.selectDrop=document.createElement("div");this.selectDrop.className=this.options.dropClass;this.selectDrop.innerHTML=this.options.dropStructure;jcf.lib.setStyles(this.selectDrop,{position:"absolute"});this.selectList=jcf.lib.queryBySelector(this.options.dropSelector,this.selectDrop)[0];jcf.lib.addClass(this.selectDrop,this.options.dropHiddenClass);document.body.appendChild(this.selectDrop);this.selectDrop.jcf=this;jcf.lib.event.add(this.selectDrop,"click",this.onOptionClick,this);jcf.lib.event.add(this.selectDrop,"mouseover",this.onDropHover,this);jcf.lib.event.add(this.selectDrop,"mouseout",this.onDropLeave,this);this.buildDropdown()},buildDropdown:function(){this.buildDropdownOptions();this.positionDropdown();this.buildDropdownScroll()},buildDropdownOptions:function(){this.resStructure="";this.optNum=0;for(var e=0;e<this.realElement.children.length;e++)this.resStructure+=this.buildElement(this.realElement.children[e],e)+"\n";this.selectList.innerHTML=this.resStructure},buildDropdownScroll:function(){jcf.lib.addClass(this.selectDrop,jcf.lib.getAllClasses(this.realElement.className,this.options.dropClassPrefix,jcf.baseOptions.hiddenClass));if(this.options.dropMaxHeight&&this.selectDrop.offsetHeight>this.options.dropMaxHeight){this.selectList.style.height=this.options.dropMaxHeight+"px";this.selectList.style.overflow="auto";this.selectList.style.overflowX="hidden";jcf.lib.addClass(this.selectDrop,this.options.dropScrollableClass)}},parseOptionTitle:function(e){return typeof e=="string"&&/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i.test(e)?e:""},buildElement:function(e,t){var n="",r;if(e.tagName.toLowerCase()=="option"){if(!jcf.lib.prevSibling(e)||jcf.lib.prevSibling(e).tagName.toLowerCase()!="option")n+="<ul>";r=this.parseOptionTitle(e.title);n+='<li rel="'+this.optNum++ +'" class="'+(e.className?e.className+" ":"")+(t%2?"option-even ":"")+'jcfcalc"><a href="#">'+(r?'<img src="'+r+'" alt="" />':"")+"<span>"+e.innerHTML+"</span></a></li>";if(!jcf.lib.nextSibling(e)||jcf.lib.nextSibling(e).tagName.toLowerCase()!="option")n+="</ul>";return n}if(e.tagName.toLowerCase()=="optgroup"&&e.label){n+='<div class="'+this.options.optGroupClass+'">';n+='<strong class="jcfcalc"><em>'+e.label+"</em></strong>";for(var i=0;i<e.children.length;i++)n+=this.buildElement(e.children[i],i);n+="</div>";return n}},positionDropdown:function(){var e=jcf.lib.getOffset(this.fakeElement),t=this.fakeElement.offsetHeight,n=this.selectDrop.offsetHeight,r=e.top-n>=jcf.lib.getScrollTop()&&jcf.lib.getScrollTop()+jcf.lib.getWindowHeight()<e.top+t+n;if(this.options.handleDropPosition&&r||this.options.selectDropPosition==="top"){this.selectDrop.style.top=e.top-n+"px";jcf.lib.addClass(this.selectDrop,this.options.dropFlippedClass);jcf.lib.addClass(this.fakeElement,this.options.dropFlippedClass)}else{this.selectDrop.style.top=e.top+t+"px";jcf.lib.removeClass(this.selectDrop,this.options.dropFlippedClass);jcf.lib.removeClass(this.fakeElement,this.options.dropFlippedClass)}this.selectDrop.style.left=e.left+"px";this.selectDrop.style.width=this.fakeElement.offsetWidth+"px"},showDropdown:function(){document.body.appendChild(this.selectDrop);jcf.lib.removeClass(this.selectDrop,this.options.dropHiddenClass);jcf.lib.addClass(this.fakeElement,this.options.dropActiveClass);this.positionDropdown();var e=this.getFakeActiveOption();this.removeClassFromItems(this.options.currentSelectedClass);jcf.lib.addClass(e,this.options.currentSelectedClass);jcf.lib.event.add(window,"resize",this.onResizeWindow,this);jcf.lib.event.add(window,"scroll",this.onScrollWindow,this);jcf.lib.event.add(document,jcf.eventPress,this.onClickOutside,this);this.positionDropdown()},hideDropdown:function(e){if(this.selectDrop.parentNode){this.selectDrop.offsetWidth&&this.selectDrop.parentNode.removeChild(this.selectDrop);if(e)return}typeof this.origSelectedIndex=="number"&&(this.realElement.selectedIndex=this.origSelectedIndex);jcf.lib.removeClass(this.fakeElement,this.options.dropActiveClass);jcf.lib.addClass(this.selectDrop,this.options.dropHiddenClass);jcf.lib.event.remove(window,"resize",this.onResizeWindow);jcf.lib.event.remove(window,"scroll",this.onScrollWindow);jcf.lib.event.remove(document.documentElement,jcf.eventPress,this.onClickOutside);jcf.isTouchDevice&&this.onBlur()},toggleDropdown:function(){if(!this.realElement.disabled){jcf.isTouchDevice?this.onFocus():this.realElement.focus();this.isActiveDrop()?this.hideDropdown():this.showDropdown();this.refreshState()}},scrollToItem:function(){if(this.isActiveDrop()){var e=this.selectList.offsetHeight,t=this.calcOptionOffset(this.getFakeActiveOption()),n=this.selectList.scrollTop,r=this.getFakeActiveOption().offsetHeight;t>=n+e?this.selectList.scrollTop=t-e+r:t<n&&(this.selectList.scrollTop=t)}},getFakeActiveOption:function(e){return jcf.lib.queryBySelector('li[rel="'+(typeof e=="number"?e:this.realElement.selectedIndex)+'"]',this.selectList)[0]},calcOptionOffset:function(e){var t=0,n=jcf.lib.queryBySelector(".jcfcalc",this.selectList);for(var r=0;r<n.length;r++){if(n[r]==e)break;t+=n[r].offsetHeight}return t},childrenHasItem:function(e,t){var n=e.getElementsByTagName("*");for(i=0;i<n.length;i++)if(n[i]==t)return!0;return!1},removeClassFromItems:function(e){var t=jcf.lib.queryBySelector("li",this.selectList);for(var n=t.length-1;n>=0;n--)jcf.lib.removeClass(t[n],e)},setSelectedClass:function(e){jcf.lib.addClass(this.getFakeActiveOption
(e),this.options.selectedClass)},refreshSelectedClass:function(e){if(!this.options.showNativeDrop){this.removeClassFromItems(this.options.selectedClass);this.setSelectedClass(e)}if(this.realElement.disabled){jcf.lib.addClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.addClass(this.labelFor,this.options.labelDisabledClass)}else{jcf.lib.removeClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.removeClass(this.labelFor,this.options.labelDisabledClass)}},refreshSelectedText:function(){if(!this.dropOpened&&this.realElement.title)this.valueText.innerHTML=this.realElement.title;else if(this.realElement.options[this.realElement.selectedIndex].title){var e=this.parseOptionTitle(this.realElement.options[this.realElement.selectedIndex].title);this.valueText.innerHTML=(e?'<img src="'+e+'" alt="" />':"")+this.realElement.options[this.realElement.selectedIndex].innerHTML}else this.valueText.innerHTML=this.realElement.options[this.realElement.selectedIndex].innerHTML},refreshState:function(){this.origSelectedIndex=this.realElement.selectedIndex;this.refreshSelectedClass();this.refreshSelectedText();if(!this.options.showNativeDrop){this.positionDropdown();this.selectDrop.offsetWidth&&this.scrollToItem()}}});PlatformDetect=function(){var e={},t,n=document.getElementsByTagName("link");for(var r=0;r<n.length;r++)if(n[r].getAttribute("media")==="all"){t=n[r].getAttribute("href");if(t){t=t.replace(/[^\/]*$/,"");break}}return{options:{cssPath:"css/"},addModule:function(t){e[t.type]=t},addRule:function(e){if(this.matchRule(e)){this.applyRule(e);return!0}},matchRule:function(t){return e[t.type].matchRule(t)},applyRule:function(e){var n=document.getElementsByTagName("head")[0],r,i;if(e.css){i='<link rel="stylesheet" href="'+(t||this.options.cssPath)+e.css+'" />';if(n){r=document.createElement("div");r.innerHTML=i;n.appendChild(r.childNodes[0])}else document.write(i)}if(e.meta)if(n){r=document.createElement("div");r.innerHTML=e.meta;n.appendChild(r.childNodes[0])}else document.write(e.meta)},matchVersions:function(e,t){t=t.toString();e=e.toString();var n=parseInt(t,10)===parseInt(e,10),r=(e.length>t.length?e.indexOf(t):t.indexOf(e))===0;return n&&r}}}();PlatformDetect.addModule({type:"allmobile",uaMatch:function(e){this.ua||(this.ua=navigator.userAgent.toLowerCase());return this.ua.indexOf(e.toLowerCase())!=-1},matchRule:function(e){return this.uaMatch("mobi")||this.uaMatch("midp")||this.uaMatch("ppc")||this.uaMatch("webos")||this.uaMatch("android")||this.uaMatch("phone os")||this.uaMatch("touch")}});PlatformDetect.addModule({type:"android",parseUserAgent:function(){var e=/(Android) ([0-9.]*).*/.exec(navigator.userAgent);if(e)return{deviceType:navigator.userAgent.indexOf("Mobile")>0?"mobile":"tablet",version:e[2]}},matchRule:function(e){this.matchData=this.matchData||this.parseUserAgent();if(this.matchData){var t=e.version?PlatformDetect.matchVersions(this.matchData.version,e.version):!0,n=e.deviceType?e.deviceType===this.matchData.deviceType:!0;return t&&n}}});PlatformDetect.addModule({type:"winphone",parseUserAgent:function(){var e=/(Windows Phone OS) ([0-9.]*).*/.exec(navigator.userAgent);if(e)return{version:e[2]};if(/MSIE 10.*Touch/.test(navigator.userAgent))return{version:8}},matchRule:function(e){this.matchData=this.matchData||this.parseUserAgent();if(this.matchData)return e.version?PlatformDetect.matchVersions(this.matchData.version,e.version):!0}});PlatformDetect.addRule({type:"allmobile",css:"allmobile.css"});PlatformDetect.addRule({type:"android",version:4,css:"android.css"});PlatformDetect.addRule({type:"winphone",css:"winphone.css"});window.matchMedia=window.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");o.id="mq-test-1";o.style.cssText="position:absolute;top:-100em";s.appendChild(o);return function(e){o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>';r.insertBefore(s,i);n=o.offsetWidth==42;r.removeChild(s);return{matches:n,media:e}}}(document);(function(e){"use strict";e.picturefill=function(){for(var t=e.document.getElementsByTagName("div"),n=0,r=t.length;r>n;n++)if(null!==t[n].getAttribute("data-picture")){for(var i=t[n].getElementsByTagName("div"),s=[],o=0,u=i.length;u>o;o++){var f=i[o].getAttribute("data-media");(!f||e.matchMedia&&e.matchMedia(f).matches)&&s.push(i[o])}var l=t[n].getElementsByTagName("img")[0];if(s.length){l||(l=e.document.createElement("img"),l.alt=t[n].getAttribute("data-alt"),t[n].appendChild(l));var c=s.pop(),h=c.getAttribute("data-width"),p=c.getAttribute("data-height");l.src=c.getAttribute("data-src"),h?l.setAttribute("width",h):l.removeAttribute("width"),p?l.setAttribute("height",p):l.removeAttribute("height")}else l&&t[n].removeChild(l)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)})(this);(function(e,t){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var e in r.gestures)r.gestures.hasOwnProperty(e)&&r.detection.register(r.gestures[e]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,s=!1,o=!1;r.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;r.length>i;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,n){var u=this;this.bindDom(e,r.EVENT_TYPES[t],function(f){var l=f.type.toLowerCase();if(!l.match(/mouse/)||!o){(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===f.which)&&(s=!0),l.match(/touch|pointer/)&&(o=!0);var c=0;s&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?c=r.PointerEvent.updatePointer(t,f):l.match(/touch/)?c=f.touches.length:o||(c=l.match(/up/)?0:1),c>0&&t==r.EVENT_END?t=r.EVENT_MOVE:c||(t=r.EVENT_END),c||null===i?i=f:f=i,n.call(r.detection,u.collectEventData(e,t,f)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(c=r.PointerEvent.updatePointer(t,f))),c||(i=null,s=!1,o=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var i=this.getTouchList(n,t),s=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:t,pointerType:s,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==r.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;i>r;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var i=0;r.length>i;i++)for(var s in t)t.hasOwnProperty(s)&&(n=s,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[s]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var s=this.gestures[n];if(!this.stopped&&t[s.name]!==!1&&s.handler.call(s,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,i=e.touches.length;i>n;n++)t.touches.push(r.utils.extend({},e.touches[n]))}var s=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,u=e.center.pageY-t.center.pageY,a=r.utils.getVelocity(s,o,u);return r.utils.extend(e,{deltaTime:s,deltaX:o,deltaY:u,velocityX:a.x,velocityY:a.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),direction:r.utils.getDirection(t.center,e.center),scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?0>e.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>e.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&r.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-e.scale),s=Math.abs(e.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>s)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),s>n.options.transform_min_rotation&&n.trigger("rotate",e),i>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==r.EVENT_START&&n.trigger(this.name,e),t)}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(e.Hammer=r,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return r}))})(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(n,r,i){e(n).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(t,n){return e(this.element).on(t,n)},Hammer.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},Hammer.Instance.prototype.trigger=function(t,n){var r=e(this.element);return r.has(n.target).length&&(r=e(n.target)),r.trigger({type:t,gesture:n})},e.fn.hammer=function(t){return this.each(function(){var n=e(this),r=n.data("hammer");r?r&&t&&Hammer.utils.extend(r.options,t):n.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto);(function(e){e.extend(e.fn,{validate:function(n){if(!this.length)return n&&n.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var r=e.data(this[0],"validator");return r?r:(this.attr("novalidate","novalidate"),r=new e.validator(n,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.validateDelegate(":submit","click",function(n){r.settings.submitHandler&&(r.submitButton=n.target),e(n.target).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(n.target).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.submit(function(n){function s(){var s;return r.settings.submitHandler?(r.submitButton&&(s=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),r.settings.submitHandler.call(r,r.currentForm,n),r.submitButton&&s.remove(),!1):!0}return r.settings.debug&&n.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,s()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):s():(r.focusInvalid(),!1)})),r)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var n=!0,r=e(this[0].form).validate();return this.each(function(){n=n&&r.element(this)}),n},removeAttrs:function(n){var r={},i=this;return e.each(n.split(/\s/),function(e,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(n,r){var i=this[0];if(n){var s=e.data(i.form,"validator").settings,o=s.rules,u=e.validator.staticRules(i);switch(n){case"add":e.extend(u,e.validator.normalizeRule(r)),delete u.messages,o[i.name]=u,r.messages&&(s.messages[i.name]=e.extend(s.messages[i.name],r.messages));break;case"remove":if(!r)return delete o[i.name],u;var a={};return e.each(r.split(/\s/),function(e,t){a[t]=u[t],delete u[t]}),a}}var f=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(f.required){var l=f.required;delete f.required,f=e.extend({required:l},f)}return f}}),e.extend(e.expr[":"],{blank:function(n){return!e.trim(""+e(n).val())},filled:function(n){return!!e.trim(""+e(n).val())},unchecked:function(n){return!e(n).prop("checked")}}),e.validator=function(n,r){this.settings=e.extend(!0,{},e.validator.defaults,n),this.currentForm=r,this.init()},e.validator.format=function(n,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(n),e.validator.format.apply(this,r)}:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,t){n=n.replace(RegExp("\\{"+e+"\\}","g"),function(){return t})}),n)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(n,r,i){"radio"===n.type?this.findByName(n.name).addClass(r).removeClass(i):e(n).addClass(r).removeClass(i)},unhighlight:function(n,r,i){"radio"===n.type?this.findByName(n.name).removeClass(r).addClass(i):e(n).removeClass(r).addClass(i)}},setDefaults:function(n){e.extend(e.validator.defaults,n)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function n(n){var r=e.data(this[0].form,"validator"),i="on"+n.type.replace(/^validate/,"");r.settings[i]&&r.settings[i].call(r,this[0],n)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r=this.groups={};e.each(this.settings.groups,function(n,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,t){r[t]=n})});var i=this.settings.rules;e.each(i,function(n,r){i[n]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",n).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",n),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(n){n=this.validationTargetFor(this.clean(n)),this.lastElement=n,this.prepareElement(n),this.currentElements=e(n);var r=this.check(n)!==!1;return r?delete this.invalid[n.name]:this.invalid[n.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(n){if(n){e.extend(this.errorMap,n),this.errorList=[];for(var r in n)this.errorList.push({message:n[r],element:this.findByName(r)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in n)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(n){}},findLastActive:function(){var n=this.lastActive;return n&&1===e.grep(this.errorList,function(e){return e.element.name===n.name}).length&&n},elements:function(){var n=this,r={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&n.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in r||!n.objectLength(e(this).rules())?!1:(r[this.name]=!0,!0)})},clean:function(n){return e(n)[0]},errors:function(){var n=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+n,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(n){var r=e(n).attr("type"),i=e(n).val();return"radio"===r||"checkbox"===r?e("input[name='"+e(n).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(n){n=this.validationTargetFor(this.clean(n));var r,i=e(n).rules(),s=!1,o=this.elementValue(n);for(var u in i){var a={method:u,parameters:i[u]};try{if(r=e.validator.methods[u].call(this,o,n,a.parameters),"dependency-mismatch"===r){s=!0;continue}if(s=!1,"pending"===r)return this.toHide=this.toHide.not(this.errorsFor(n)),void 0;if(!r)return this.formatAndAdd(n,a),!1}catch(f){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+n.id+", check the '"+a.method+"' method.",f),f}}return s?void 0:(this.objectLength(i)&&this.successList.push(n),!0)},customDataMessage:function(n,r){return e(n).data("msg-"+r.toLowerCase())||n.attributes&&e(n).attr("data-msg-"+r.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(n,r){return this.findDefined(this.customMessage(n.name,r),this.customDataMessage(n,r),!this.settings.ignoreTitle&&n.title||void 0,e.validator.messages[r],"<strong>Warning: No message defined for "+n.name+"</strong>")},formatAndAdd:function(n,r){var i=this.defaultMessage(n,r.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,r.parameters,n):s.test(i)&&(i=e.validator.format(i.replace(s,"{$1}"),r.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(n,r){var i=this.errorsFor(n);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(r)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(n)).addClass(this.settings.errorClass).html(r||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(n)):i.insertAfter(n))),!r&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,n)),this.toShow=this.toShow.add(i)},errorsFor:function(n){var r=this.idOrName(n);return this.errors().filter(function(){return e(this).attr("for")===r})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(n){return e(this.currentForm).find("[name='"+n+"']")},getLength:function(n,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return n.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(n,r){return!!e(n,r.form).length},"function":function(e,t){return e(t)}},optional:function(n){var r=this.elementValue(n);return!e.validator.methods.required.call(this,r,n)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(n,r){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[n.name],r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(n){return e.data(n,"previousValue")||e.data(n,"previousValue",{old:null,valid:!0,message:this.defaultMessage(n,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(n,r){n.constructor===String?this.classRuleSettings[n]=r:e.extend(this.classRuleSettings,n)},classRules:function(n){var r={},i=e(n).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},attributeRules:function(n){var r={},i=e(n),s=i[0].getAttribute("type");for(var o in e.validator.methods){var u;"required"===o?(u=i.get(0).getAttribute(o),""===u&&(u=!0),u=!!u):u=i.attr(o),/min|max/.test(o)&&(null===s||/number|range|text/.test(s))&&(u=Number(u)),u?r[o]=u:s===o&&"range"!==s&&(r[o]=!0)}return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(n){var r,i,s={},o=e(n);for(r in e.validator.methods)i=o.data("rule-"+r.toLowerCase()),void 0!==i&&(s[r]=i);return s},staticRules:function(n){var r={},i=e.data(n.form,"validator");return i.settings.rules&&(r=e.validator.normalizeRule(i.settings.rules[n.name])||{}),r},normalizeRules:function(n,r){return e.each(n,function(s,o){if(o===!1)return delete n[s],void 0;if(o.param||o.depends){var u=!0;switch(typeof o.depends){case"string":u=!!e(o.depends,r.form).length;break;case"function":u=o.depends.call(r,r)
}u?n[s]=void 0!==o.param?o.param:!0:delete n[s]}}),e.each(n,function(s,o){n[s]=e.isFunction(o)?o(r):o}),e.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),e.each(["rangelength","range"],function(){var r;n[this]&&(e.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(r=n[this].split(/[\s,]+/),n[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(n.min&&n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),n.minlength&&n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(n){if("string"==typeof n){var r={};e.each(n.split(/\s/),function(){r[this]=!0}),n=r}return n},addMethod:function(n,r,i){e.validator.methods[n]=r,e.validator.messages[n]=void 0!==i?i:e.validator.messages[n],3>r.length&&e.validator.addClassRules(n,e.validator.normalizeRule(n))},methods:{required:function(n,r,i){if(!this.depend(i,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var s=e(r).val();return s&&s.length>0}return this.checkable(r)?this.getLength(n,r)>0:e.trim(n).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return 0===n%10},minlength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||s>=i},maxlength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||i>=s},rangelength:function(n,r,i){var s=e.isArray(n)?n.length:this.getLength(e.trim(n),r);return this.optional(r)||s>=i[0]&&i[1]>=s},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&n[1]>=e},equalTo:function(n,r,i){var s=e(i);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(r).valid()}),n===s.val()},remote:function(n,r,i){if(this.optional(r))return"dependency-mismatch";var s=this.previousValue(r);if(this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=this.settings.messages[r.name].remote,this.settings.messages[r.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===n)return s.valid;s.old=n;var o=this;this.startRequest(r);var u={};return u[r.name]=n,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+r.name,dataType:"json",data:u,success:function(i){o.settings.messages[r.name].remote=s.originalMessage;var u=i===!0||"true"===i;if(u){var a=o.formSubmitted;o.prepareElement(r),o.formSubmitted=a,o.successList.push(r),delete o.invalid[r.name],o.showErrors()}else{var f={},l=i||o.defaultMessage(r,"remote");f[r.name]=s.message=e.isFunction(l)?l(n):l,o.invalid[r.name]=!0,o.showErrors(f)}s.valid=u,o.stopRequest(r,u)}},i)),"pending"}}}),e.format=e.validator.format})(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;"abort"===e.mode&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var s=("mode"in r?r:e.ajaxSettings).mode,o=("port"in r?r:e.ajaxSettings).port;return"abort"===s?(t[o]&&t[o].abort(),t[o]=n.apply(this,arguments),t[o]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(n,r,i){return this.bind(r,function(r){var o=e(r.target);return o.is(n)?i.apply(o,arguments):void 0})}})}(jQuery);(function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(n,r,i){return this.optional(r)||i>=e(n).match(/\b\w+\b/g).length},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(n,r,i){return this.optional(r)||e(n).match(/\b\w+\b/g).length>=i},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(n,r,i){var s=e(n),o=/\b\w+\b/g;return this.optional(r)||s.match(o).length>=i[0]&&s.match(o).length<=i[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})(),jQuery.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),jQuery.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),jQuery.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),jQuery.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx"),jQuery.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,n,r,i,s,o,u=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],f=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],l=0;for(t=0;17>t;t++){if(i=f[t],r=e.slice(t,t+1),8===t&&(o=r),isNaN(r)){for(n=0;u.length>n;n++)if(r.toUpperCase()===u[n]){r=a[n],r*=i,isNaN(o)&&8===n&&(o=u[n]);break}}else r*=i;l+=r}return s=l%11,10===s&&(s="X"),s===o?!0:!1},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("dateITA",function(e,t){var n=!1,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(r.test(e)){var i=e.split("/"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=new Date(u,o-1,s);n=a.getFullYear()===u&&a.getMonth()===o-1&&a.getDate()===s?!0:!1}else n=!1;return this.optional(t)||n},"Please enter a correct date"),jQuery.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(e))return!1;var n=e.replace(/ /g,"").toUpperCase(),r=n.substring(0,2),i={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},s=i[r];if(s!==void 0){var o=RegExp("^[A-Z]{2}\\d{2}"+s+"$","");if(!o.test(n))return!1}for(var u,a=n.substring(4,n.length)+n.substring(0,4),f="",l=!0,c=0;a.length>c;c++)u=a.charAt(c),"0"!==u&&(l=!1),l||(f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(u));for(var h="",p="",d=0;f.length>d;d++){var v=f.charAt(d);p=""+h+v,h=p%97}return 1===h},"Please specify a valid IBAN"),jQuery.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},"Please enter a correct date"),jQuery.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),jQuery.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),jQuery.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),jQuery.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;for(var n=e.replace(/ /g,""),r=0,i=n.length,s=0;i>s;s++){var o=i-s,u=n.substring(s,s+1);r+=o*u}return 0===r%11},"Please specify a valid bank account number"),jQuery.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),jQuery.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),jQuery.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),jQuery.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),jQuery.validator.addMethod("strippedminlength",function(e,t,n){return jQuery(e).text().length>=n},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("email2",function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},jQuery.validator.messages.email),jQuery.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},jQuery.validator.messages.url),jQuery.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return n.mastercard&&(r|=1),n.visa&&(r|=2),n.amex&&(r|=4),n.dinersclub&&(r|=8),n.enroute&&(r|=16),n.discover&&(r|=32),n.jcb&&(r|=64),n.unknown&&(r|=128),n.all&&(r=255),1&r&&/^(5[12345])/.test(e)?16===e.length:2&r&&/^(4)/.test(e)?16===e.length:4&r&&/^(3[47])/.test(e)?15===e.length:8&r&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&r&&/^(2(014|149))/.test(e)?15===e.length:32&r&&/^(6011)/.test(e)?16===e.length:64&r&&/^(3)/.test(e)?16===e.length:64&r&&/^(2131|1800)/.test(e)?15===e.length:128&r?!0:!1},"Please enter a valid credit card number."),jQuery.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("pattern",function(e,t,n){return this.optional(t)?!0:("string"==typeof n&&(n=RegExp("^(?:"+n+")$")),n.test(e))},"Invalid format."),jQuery.validator.addMethod("require_from_group",function(e,t,n){var r=this,i=n[1],s=$(i,t.form).filter(function(){return r.elementValue(this)}).length>=n[0];if(!$(t).data("being_validated")){var o=$(i,t.form);o.data("being_validated",!0),o.valid(),o.data("being_validated",!1)}return s},jQuery.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(e,t,n){var r=this,i=n[0],s=n[1],o=$(s,t.form).filter(function(){return r.elementValue(this)}).length,u=o>=i||0===o;if(!$(t).data("being_validated")){var a=$(s,t.form);a.data("being_validated",!0),a.valid(),a.data("being_validated",!1)}return u},jQuery.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("accept",function(e,t,n){var r,i,s="string"==typeof n?n.replace(/\s/g,"").replace(/,/g,"|"):"image/*",o=this.optional(t);if(o)return o;if("file"===$(t).attr("type")&&(s=s.replace(/\*/g,".*"),t.files&&t.files.length))for(r=0;t.files.length>r;r++)if(i=t.files[r],!i.type.match(RegExp(".?("+s+")$","i")))return!1;return!0},jQuery.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("extension",function(e,t,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(RegExp(".("+n+")$","i"))},jQuery.format("Please enter a value with a valid extension."));(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,r=e(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;n=i[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=r.offset();s.clk_x=t.pageX-o.left,s.clk_y=t.pageY-o.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=void 0!==e("<input type='file'/>").get(0).files,i.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var r,i,s=e.param(n,t.traditional).split("&"),o=s.length,u=[];for(r=0;o>r;r++)s[r]=s[r].replace(/\+/g," "),i=s[r].split("="),u.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return u}function o(r){for(var i=new FormData,s=0;r.length>s;s++)i.append(r[s].name,r[s].value);if(t.extraData){var o=n(t.extraData);for(s=0;o.length>s;s++)o[s]&&i.append(o[s][0],o[s][1])}t.data=null;var u=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:f||"POST"});t.uploadProgress&&(u.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,r=e.loaded||e.position,i=e.total;e.lengthComputable&&(n=Math.ceil(100*(r/i))),t.uploadProgress(e,r,i,n)},!1),n}),u.data=null;var a=u.beforeSend;return u.beforeSend=function(e,n){n.data=t.formData?t.formData:i,a&&a.call(this,e,n)},e.ajax(u)}function u(n){function i(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){r("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){r("cannot get iframe.contentDocument: "+n),t=e.document}return t}function o(){function t(){try{var e=i(y).readyState;r("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){r("Server abort: ",n," (",n.name,")"),u(k),x&&clearTimeout(x),x=void 0}}var n=h.attr2("target"),s=h.attr2("action");T.setAttribute("target",v),(!f||/post/i.test(f))&&T.setAttribute("method","POST"),s!=p.url&&T.setAttribute("action",p.url),p.skipEncodingOverride||f&&!/post/i.test(f)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(x=setTimeout(function(){S=!0,u(C)},p.timeout));var o=[];try{if(p.extraData)for(var l in p.extraData)p.extraData.hasOwnProperty(l)&&(e.isPlainObject(p.extraData[l])&&p.extraData[l].hasOwnProperty("name")&&p.extraData[l].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+p.extraData[l].name+'">').val(p.extraData[l].value).appendTo(T)[0]):o.push(e('<input type="hidden" name="'+l+'">').val(p.extraData[l]).appendTo(T)[0]));p.iframeTarget||g.appendTo("body"),y.attachEvent?y.attachEvent("onload",u):y.addEventListener("load",u,!1),setTimeout(t,15);try{T.submit()}catch(c){var d=document.createElement("form").submit;d.apply(T)}}finally{T.setAttribute("action",s),n?T.setAttribute("target",n):h.removeAttr("target"),e(o).remove()}}function u(t){if(!b.aborted&&!_){if(M=i(y),M||(r("cannot access response document"),t=k),t===C&&b)return b.abort("timeout"),N.reject(b,"timeout"),void 0;if(t==k&&b)return b.abort("server abort"),N.reject(b,"error","server abort"),void 0;if(M&&M.location.href!=p.iframeSrc||S){y.detachEvent?y.detachEvent("onload",u):y.removeEventListener("load",u,!1);var n,s="success";try{if(S)throw"timeout";var o="xml"==p.dataType||M.XMLDocument||e.isXMLDoc(M);if(r("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--D)return r("requeing onLoad callback, DOM not available"),setTimeout(u,250),void 0;var f=M.body?M.body:M.documentElement;b.responseText=f?f.innerHTML:null,b.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(p.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e.toLowerCase()]},f&&(b.status=Number(f.getAttribute("status"))||b.status,b.statusText=f.getAttribute("statusText")||b.statusText);var l=(p.dataType||"").toLowerCase(),c=/(json|script|text)/.test(l);if(c||p.textarea){var h=M.getElementsByTagName("textarea")[0];if(h)b.responseText=h.value,b.status=Number(h.getAttribute("status"))||b.status,b.statusText=h.getAttribute("statusText")||b.statusText;else if(c){var v=M.getElementsByTagName("pre")[0],m=M.getElementsByTagName("body")[0];v?b.responseText=v.textContent?v.textContent:v.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==l&&!b.responseXML&&b.responseText&&(b.responseXML=P(b.responseText));try{O=B(b,l,p)}catch(w){s="parsererror",b.error=n=w||s}}catch(w){r("error caught: ",w),s="error",b.error=n=w||s}b.aborted&&(r("upload aborted"),s=null),b.status&&(s=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===s?(p.success&&p.success.call(p.context,O,"success",b),N.resolve(b.responseText,"success",b),d&&e.event.trigger("ajaxSuccess",[b,p])):s&&(void 0===n&&(n=b.statusText),p.error&&p.error.call(p.context,b,s,n),N.reject(b,"error",n),d&&e.event.trigger("ajaxError",[b,p,n])),d&&e.event.trigger("ajaxComplete",[b,p]),d&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,b,s),_=!0,p.timeout&&clearTimeout(x),setTimeout(function(){p.iframeTarget?g.attr("src",p.iframeSrc):g.remove(),b.responseXML=null},100)}}}var l,c,p,d,v,g,y,b,w,E,S,x,T=h[0],N=e.Deferred();if(N.abort=function(e){b.abort(e)},n)for(c=0;m.length>c;c++)l=e(m[c]),s?l.prop("disabled",!1):l.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,v="jqFormIO"+(new Date).getTime(),p.iframeTarget?(g=e(p.iframeTarget),E=g.attr2("name"),E?v=E:g.attr2("name",v)):(g=e('<iframe name="'+v+'" src="'+p.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),y=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";r("aborting upload... "+n),this.aborted=1;try{y.contentWindow.document.execCommand&&y.contentWindow.document.execCommand("Stop")}catch(i){}g.attr("src",p.iframeSrc),b.error=n,p.error&&p.error.call(p.context,b,n,t),d&&e.event.trigger("ajaxError",[b,p,n]),p.complete&&p.complete.call(p.context,b,n)}},d=p.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[b,p]),p.beforeSend&&p.beforeSend.call(p.context,b,p)===!1)return p.global&&e.active--,N.reject(),N;if(b.aborted)return N.reject(),N;w=T.clk,w&&(E=w.name,E&&!w.disabled&&(p.extraData=p.extraData||{},p.extraData[E]=w.value,"image"==w.type&&(p.extraData[E+".x"]=T.clk_x,p.extraData[E+".y"]=T.clk_y)));var C=1,k=2,L=e("meta[name=csrf-token]").attr("content"),A=e("meta[name=csrf-param]").attr("content");A&&L&&(p.extraData=p.extraData||{},p.extraData[A]=L),p.forceSync?o():setTimeout(o,10);var O,M,_,D=50,P=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},H=e.parseJSON||function(e){return window.eval("("+e+")")},B=function(t,n,r){var i=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&i.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;return s&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&i.indexOf("json")>=0?o=H(o):("script"===n||!n&&i.indexOf("javascript")>=0)&&e.globalEval(o)),o};return N}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var f,l,c,h=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),f=t.type||this.attr2("method"),l=t.url||this.attr2("action"),c="string"==typeof l?e.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:c,success:e.ajaxSettings.success,type:f||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var v,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,v=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var y=e.param(g,d);v&&(y=y?y+"&"+v:v),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+y,t.data=null):t.data=y;var b=[];if(t.resetForm&&b.push(function(){h.resetForm()}),t.clearForm&&b.push(function(){h.clearForm(t.includeHidden)}),!t.dataType&&t.target){var w=t.success||function(){};b.push(function(n){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](n).each(w,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,n,r){for(var i=t.context||this,s=0,o=b.length;o>s;s++)b[s].apply(i,[e,n,r||h,h])},t.error){var E=t.error;t.error=function(e,n,r){var i=t.context||this;E.apply(i,[e,n,r,h])}}if(t.complete){var S=t.complete;t.complete=function(e,n){var r=t.context||this;S.apply(r,[e,n,h])}}var x=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),T=x.length>0,N="multipart/form-data",C=h.attr("enctype")==N||h.attr("encoding")==N,k=i.fileapi&&i.formdata;r("fileAPI :"+k);var L,A=(T||C)&&!k;t.iframe!==!1&&(t.iframe||A)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){L=u(g)}):L=u(g):L=(T||C)&&k?o(g):e.ajax(t),h.removeData("jqxhr").data("jqxhr",L);for(var O=0;m.length>O;O++)m[O]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&e.isFunction(e.fn.on),!i.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(r("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(i)}),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return i.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,i,t).on("click.form-plugin",this.selector,i,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,t).bind("click.form-plugin",i,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var r=[];if(0===this.length)return r;var s=this[0],o=t?s.getElementsByTagName("*"):s.elements;if(!o)return r;var u,a,f,l,c,h,p;for(u=0,h=o.length;h>u;u++)if(c=o[u],f=c.name,f&&!c.disabled)if(t&&s.clk&&"image"==c.type)s.clk==c&&(r.push({name:f,value:e(c).val(),type:c.type}),r.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y}));else if(l=e.fieldValue(c,!0),l&&l.constructor==Array)for(n&&n.push(c),a=0,p=l.length;p>a;a++)r.push({name:f,value:l[a]});else if(i.fileapi&&"file"==c.type){n&&n.push(c);var d=c.files;if(d.length)for(a=0;d.length>a;a++)r.push({name:f,value:d[a],type:c.type});else r.push({name:f,value:"",type:c.type})}else null!==l&&l!==void 0&&(n&&n.push(c),r.push({name:f,value:l,type:c.type,required:c.required}));if(!t&&s.clk){var v=e(s.clk),m=v[0];f=m.name,f&&!m.disabled&&"image"==m.type&&(r.push({name:f,value:v.val()}),r.push({name:f+".x",value:s.clk_x},{name:f+".y",value:s.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var r=this.name;if(r){var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var s=0,o=i.length;o>s;s++)n.push({name:r,value:i[s]});else null!==i&&i!==void 0&&n.push({name:this.name,value:i})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;i>r;r++){var s=this[r],o=e.fieldValue(s,t);null===o||void 0===o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var r=t.name,i=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==
i)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var o=t.selectedIndex;if(0>o)return null;for(var u=[],a=t.options,f="select-one"==i,l=f?o+1:a.length,c=f?o:0;l>c;c++){var h=a[c];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),f)return p;u.push(p)}}return u}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});