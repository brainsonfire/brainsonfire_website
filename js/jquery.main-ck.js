// page init
function getWindowHeight(){return typeof window.innerHeight=="number"?window.innerHeight:document.documentElement.clientHeight}function getProportion(e){var t=e.ratio,n=e.maskWidth,r=n/t;if(r<e.maskHeight){r=e.maskHeight;n=r*t}return{width:n,height:r,marginTop:(e.maskHeight-r)/2,marginLeft:(e.maskWidth-n)/2}}function hoverFix(){var e="hover",t=jQuery(".thumbnails-list").find("li"),n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;if(n){t.each(function(n){var r=jQuery(this);r.bind(navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(n){if(!r.hasClass(e)){n.preventDefault();t.removeClass(e);r.addClass(e)}})});jQuery(document).bind(navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){var n=jQuery(e.target);!n.is(t)&&n.closest(t).length==0&&t.removeClass()})}else t.each(function(){var t=jQuery(this);t.bind({mouseenter:function(){t.addClass(e)},mouseleave:function(){t.removeClass(e)}})})}function initCycleCarousel(){var e=/MSIE 10.*Touch/.test(navigator.userAgent);jQuery("#gallery").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,handleTouch:e?!1:!0,pauseOnHover:!0,maskAutoSize:!0,autoRotation:!0,switchTime:4e3,animSpeed:500,onInit:function(e){e.setHeight=function(){e.holder.height(getWindowHeight())};e.resizeImage=function(){clearTimeout(e.resizeTimer);e.resizeTimer=setTimeout(function(){e.slides.each(function(){var e=jQuery(this),t=e.find("img");t.css(getProportion({ratio:t.width()/t.height(),maskHeight:e.height(),maskWidth:e.width()}))})},200)};e.setHeight();e.resizeImage()},onResize:function(e){e.setHeight();e.resizeImage()}});jQuery(".cycle-gallery-2").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",stretchSlideToMask:!0,pauseOnHover:!0,maskAutoSize:!0,autoRotation:!0,switchTime:4e3,animSpeed:500})}function initCustomHover(){jQuery("#nav>li").touchHover()}function initTeamAccordion(){var e=jQuery("ul.tabset"),t=e.find("a"),n=e.siblings(".tab-content"),r=function(){t.each(function(){var e=jQuery(this),t=e.parent(),n=jQuery(e.attr("href")),r=t.find(".tab-content");r.length||(r=jQuery('<div class="tab-content">').appendTo(t));r.append(n)})},i=function(){t.each(function(){var e=jQuery(this),t=jQuery(e.attr("href"));n.append(t)})};ResponsiveHelper.addRange({"..707":{on:function(){r();e.tabAccordion({onlyOneActive:!1})},off:function(){e.data("TabAccordion").destroy()}},"708..":{on:function(){i();e.tabAccordion({onlyOneActive:!0})},off:function(){e.data("TabAccordion").destroy()}}})}function initSlideShow(){jQuery("div.slideshow").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",event:"click",useSwipe:!0,autoRotation:!0,autoHeight:!0,switchTime:3e3,disableFadeIE:!0,animSpeed:400})}function initTabs(){jQuery("ul.tabset").contentTabs({tabLinks:"a"})}function initOpenClose(){jQuery("div.open-close").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"slide"})}function initAnchorLinks(){function n(n){t.stop().animate({scrollTop:n},e)}var e=1e3,t=jQuery("html,body");jQuery("a.go-top-js").click(function(e){e.preventDefault();var t=this.getAttribute("href"),r=t.length>1?jQuery(t).offset().top:0;n(r)});var r=jQuery("#wrapper > section"),i=r.last(),s=jQuery("a.btn-down"),o=jQuery(window),u=o.scrollTop();o.on("scroll",function(){u=o.scrollTop();u>=i.offset().top?s.hide():s.show()});s.click(function(e){e.preventDefault();var t=0;r.each(function(e){var n=jQuery(this),r=n.innerHeight()-24,i=Math.round(n.offset().top);if(u>=i&&u<i+r){t=e;return!1}});if(t<r.length-1){var i=r.eq(t+1);console.log(r.eq(t));n(i.offset().top)}})}jQuery(function(){initSlideShow();initOpenClose();initTeamAccordion();initAnchorLinks();initCycleCarousel();hoverFix();jcf.customForms.replaceAll()});ResponsiveHelper=function(e){function s(){var s=n.width()+i;if(s!==r){r=s;e.each(t,function(t,n){e.each(n.data,function(e,t){if((s<t.range[0]||s>t.range[1])&&t.currentActive){t.currentActive=!1;typeof t.disableCallback=="function"&&t.disableCallback()}});e.each(n.data,function(e,t){if(s>=t.range[0]&&s<=t.range[1]&&!t.currentActive){t.currentActive=!0;typeof t.enableCallback=="function"&&t.enableCallback()}})})}}function o(e){var t=e.split(".."),n=parseInt(t[0],10)||-Infinity,r=parseInt(t[1],10)||Infinity;return[n,r].sort(function(e,t){return e-t})}var t=[],n=e(window),r,i=0;n.bind("load",function(){if((e.browser.mozilla||e.browser.opera||e.browser.msie)&&window.addEventListener){i=window.innerWidth-e("body").width();s()}n.bind("resize orientationchange",s)});return{addRange:function(n){var i={data:{}};e.each(n,function(e,t){i.data[e]={range:o(e),enableCallback:t.on,disableCallback:t.off}});t.push(i);r=null;s()}}}(jQuery);(function(e){function t(t){this.options=e.extend({holder:null,openers:"a",animSpeed:400,onlyOneActive:!0,activeClass:"active"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents()}},findElements:function(){var t=this;this.holder=e(this.options.holder);this.openers=this.holder.find(this.options.openers);this.tabs=jQuery(null);this.openers.each(function(){var e=jQuery(this),n=jQuery(e.attr("href"));e.data("tab",n);t.tabs=t.tabs.add(n);var r=e.hasClass(t.options.activeClass);n.css({display:r?"block":"none"});r&&(t.prevLink=e)})},attachEvents:function(){var e=this;this.clickHandler=function(t){t.preventDefault();var n=jQuery(this);e.options.onlyOneActive?n.hasClass(e.options.activeClass)?e.hideTab(n):e.switchTab(n):n.hasClass(e.options.activeClass)?e.hideTab(n):e.showTab(n)};this.openers.on("click",this.clickHandler)},hideTab:function(e){var t=e.data("tab");t.slideUp(this.options.animSpeed);e.removeClass(this.options.activeClass)},showTab:function(e){var t=e.data("tab");t.slideDown(this.options.animSpeed);e.addClass(this.options.activeClass)},switchTab:function(e){if(this.options.onlyOneActive){this.prevLink&&this.hideTab(this.prevLink);this.showTab(e)}else this.showTab(e);this.prevLink=e},destroy:function(){this.openers.off("click",this.clickHandler);this.tabs.css({display:""});this.openers.filter("."+this.options.activeClass).length>1&&this.openers.removeClass(this.options.activeClass)}};e.fn.tabAccordion=function(n){return this.each(function(){jQuery(this).data("TabAccordion",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){function t(t){this.options=e.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.refreshState(!0);this.autoRotate();this.makeCallback("onInit",this)}},findElements:function(){this.gallery=e(this.options.holder).addClass(this.options.galleryReadyClass);this.slides=this.gallery.find(this.options.slides);this.slidesHolder=this.slides.eq(0).parent();this.stepsCount=this.slides.length;this.btnPrev=this.gallery.find(this.options.btnPrev);this.btnNext=this.gallery.find(this.options.btnNext);this.currentIndex=0;this.options.disableFadeIE&&!e.support.opacity&&(this.options.animSpeed=0);if(typeof this.options.generatePagination=="string"){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty();this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var n=this.slides.filter("."+this.options.activeClass);n.length&&(this.currentIndex=this.slides.index(n));this.prevIndex=this.currentIndex;this.btnPlay=this.gallery.find(this.options.btnPlay);this.btnPause=this.gallery.find(this.options.btnPause);this.btnPlayPause=this.gallery.find(this.options.btnPlayPause);this.curNum=this.gallery.find(this.options.currentNumber);this.allNum=this.gallery.find(this.options.totalNumber);this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var t=this;this.resizeHandler=function(){t.onWindowResize()};e(window).bind("load resize orientationchange",this.resizeHandler);if(this.btnPrev.length){this.btnPrevHandler=function(e){e.preventDefault();t.prevSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnPrev.bind(this.options.event,this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(e){e.preventDefault();t.nextSlide();t.options.autorotationStopAfterClick&&t.stopRotation()};this.btnNext.bind(this.options.event,this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(e){e.preventDefault();t.numSlide(t.pagerLinks.index(e.currentTarget));t.options.autorotationStopAfterClick&&t.stopRotation()};this.pagerLinks.bind(t.options.event,this.pagerLinksHandler)}if(this.btnPlay.length){this.btnPlayHandler=function(e){e.preventDefault();t.startRotation()};this.btnPlay.bind(this.options.event,this.btnPlayHandler)}if(this.btnPause.length){this.btnPauseHandler=function(e){e.preventDefault();t.stopRotation()};this.btnPause.bind(this.options.event,this.btnPauseHandler)}if(this.btnPlayPause.length){this.btnPlayPauseHandler=function(e){e.preventDefault();t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()};this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)}this.options.useSwipe&&e.fn.hammer&&n&&this.gallery.hammer({drag_block_horizontal:!0,drag_min_distance:1}).on("release dragleft dragright swipeleft swiperight",function(e){switch(e.type){case"dragright":case"dragleft":e.gesture.preventDefault();break;case"swipeleft":t.nextSlide();e.gesture.stopDetect();break;case"swiperight":t.prevSlide();e.gesture.stopDetect();break;case"release":Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold&&(e.gesture.direction=="right"?t.prevSlide():e.gesture.direction=="left"&&t.nextSlide())}});if(this.options.pauseOnHover){this.hoverHandler=function(){if(t.options.autoRotation){t.galleryHover=!0;t.pauseRotation()}};this.leaveHandler=function(){if(t.options.autoRotation){t.galleryHover=!1;t.resumeRotation()}};this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex>0){this.currentIndex--;this.switchSlide()}else if(this.options.circularRotation){this.currentIndex=this.stepsCount-1;this.switchSlide()}}},nextSlide:function(e){if(!this.options.disableWhileAnimating||!this.galleryAnimating){this.prevIndex=this.currentIndex;if(this.currentIndex<this.stepsCount-1){this.currentIndex++;this.switchSlide()}else if(this.options.circularRotation||e===!0){this.currentIndex=0;this.switchSlide()}}},numSlide:function(e){if(this.currentIndex!=e){this.prevIndex=this.currentIndex;this.currentIndex=e;this.switchSlide()}},switchSlide:function(){var e=this;if(this.slides.length>1){this.galleryAnimating=!0;this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0});this.switchNext=function(){e.options.animSpeed?e.slides.eq(e.currentIndex).stop().animate({opacity:1},{duration:e.options.animSpeed}):e.slides.eq(e.currentIndex).css({opacity:""});setTimeout(function(){e.slides.eq(e.currentIndex).css({opacity:""});e.galleryAnimating=!1;e.autoRotate();e.makeCallback("onChange",e)},e.options.animSpeed)};if(this.options.switchSimultaneously)e.switchNext();else{clearTimeout(this.switchTimer);this.switchTimer=setTimeout(function(){e.switchNext()},this.options.animSpeed)}this.refreshState();this.makeCallback("onBeforeChange",this)}},refreshState:function(e){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.curNum.html(this.currentIndex+1);this.allNum.html(this.stepsCount);this.options.autoHeight&&(e?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed}));if(!this.options.circularRotation){this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass);this.currentIndex===0&&this.btnPrev.addClass(this.options.disabledClass);this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)}},startRotation:function(){this.options.autoRotation=!0;this.galleryHover=!1;this.autoRotationStopped=!1;this.resumeRotation()},stopRotation:function(){this.galleryHover=!0;this.autoRotationStopped=!0;this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass);this.gallery.removeClass(this.options.autorotationActiveClass);clearTimeout(this.timer)},resumeRotation:function(){if(!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.gallery.removeClass(this.options.autorotationDisabledClass);this.autoRotate()}},autoRotate:function(){var e=this;clearTimeout(this.timer);if(this.options.autoRotation&&!this.galleryHover&&!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.timer=setTimeout(function(){e.nextSlide(!0)},this.options.switchTime)}else this.pauseRotation()},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler);this.btnNext.unbind(this.options.event,this.btnNextHandler);this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler);e(window).unbind("load resize orientationchange",this.resizeHandler);this.stopRotation();this.btnPlay.unbind(this.options.event,this.btnPlayHandler);this.btnPause.unbind(this.options.event,this.btnPauseHandler);this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler);this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});this.options.useSwipe&&e.fn.hammer&&this.gallery.hammer().off("release dragleft dragright swipeleft swiperight");typeof this.options.generatePagination=="string"&&this.pagerHolder.empty();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" "));this.slidesHolder.add(this.slides).removeAttr("style")}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.fadeGallery=function(n){return this.each(function(){e(this).data("FadeGallery",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){e.fn.contentTabs=function(r){var i=e.extend({activeClass:"active",addToParent:!1,autoHeight:!1,autoRotate:!1,checkHash:!1,animSpeed:400,switchTime:3e3,effect:"none",tabLinks:"a",attrib:"href",event:"click"},r);return this.each(function(){function h(e,r){l=!0;var s=e.data("ctab"),c=r.data("ctab");a=r;f=c;(i.addToParent?u:o).removeClass(i.activeClass);(i.addToParent?r.data("cparent"):r).addClass(i.activeClass);p(s,!0);n[i.effect].hide({speed:i.animSpeed,tab:s,complete:function(){p(c.removeClass(t).width(""));n[i.effect].show({speed:i.animSpeed,tab:c,complete:function(){s.is(c)||s.width(s.width()).addClass(t);l=!1;p(c,!1);m()}})}})}function p(e,t){var n=e&&e.length?e:f;if(i.autoHeight&&n){c.stop();if(t===!1)c.css({height:""});else{var r=n.attr("style");n.show().css({width:n.width()});var s=n.outerHeight(!0);r?n.attr("style",r):n.removeAttr("style");t===!0?c.css({height:s}):c.animate({height:s},{duration:i.animSpeed})}}}function v(){var e=(i.addToParent?u:o).filter("."+i.activeClass),t=(i.addToParent?u:o).index(e),n=o.eq(t<o.length-1?t+1:0);a=o.eq(t);h(a,n)}function m(){if(i.autoRotate&&o.length>1){clearTimeout(d);d=setTimeout(function(){l?m():v()},i.switchTime)}}var r=e(this),s=e(),o=r.find(i.tabLinks),u=o.parent(),a=o.eq(0),f,l,c;if(i.checkHash&&o.filter("["+i.attrib+'="'+location.hash+'"]').length){(i.addToParent?u:o).removeClass(i.activeClass);setTimeout(function(){window.scrollTo(0,0)},1)}o.each(function(){var r=e(this),o=r.attr(i.attrib),u=r.parent();o=o.substr(o.lastIndexOf("#"));var p=e(o);s=s.add(p);r.data("cparent",u);r.data("ctab",p);!c&&p.length&&(c=p.parent());var d=i.addToParent?u:r;if(d.hasClass(i.activeClass)||i.checkHash&&location.hash===o){d.addClass(i.activeClass);a=r;f=p;p.removeClass(t).width("");n[i.effect].show({tab:p,fast:!0})}else{var v=p.width();v&&p.width(v);p.addClass(t)}r.bind(i.event,function(e){if(r!=a&&!l){h(a,r);a=r}});i.attrib==="href"&&r.bind("click",function(e){e.preventDefault()})});i.autoHeight&&e(window).bind("resize orientationchange",function(){s.not(f).removeClass(t).show().each(function(){var e=jQuery(this),t=e.css({width:""}).width();t&&e.width(t)}).hide().addClass(t);p(f,!1)});var d;m()})};var t="js-tab-hidden";e(function(){var n=e('<style type="text/css">')[0],r="."+t;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r));e("head").append(n)});var n={none:{show:function(e){e.tab.css({display:"block"});e.complete&&e.complete()},hide:function(e){e.tab.css({display:"none"});e.complete&&e.complete()}},fade:{show:function(e){e.fast&&(e.speed=1);e.tab.fadeIn(e.speed);e.complete&&setTimeout(e.complete,e.speed)},hide:function(e){e.fast&&(e.speed=1);e.tab.fadeOut(e.speed);e.complete&&setTimeout(e.complete,e.speed)}},slide:{show:function(t){var n=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),r=e('<div class="effect-div">').insertBefore(t.tab).append(t.tab);r.css({width:"100%",overflow:"hidden",position:"relative"});t.tab.css({marginTop:-n,display:"block"});t.fast&&(t.speed=1);t.tab.animate({marginTop:0},{duration:t.speed,complete:function(){t.tab.css({marginTop:"",width:""}).insertBefore(r);r.remove();t.complete&&t.complete()}})},hide:function(t){var n=t.tab.show().css({width:t.tab.width()}).outerHeight(!0),r=e('<div class="effect-div">').insertBefore(t.tab).append(t.tab);r.css({width:"100%",overflow:"hidden",position:"relative"});t.fast&&(t.speed=1);t.tab.animate({marginTop:-n},{duration:t.speed,complete:function(){t.tab.css({display:"none",marginTop:"",width:""}).insertBefore(r);r.remove();t.complete&&t.complete()}})}}}})(jQuery);(function(e){function t(t){this.options=e.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit")}},findElements:function(){this.holder=e(this.options.holder);this.opener=this.holder.find(this.options.opener);this.slider=this.holder.find(this.options.slider);this.holder.hasClass(this.options.activeClass)||this.slider.addClass(n)},attachEvents:function(){var t=this;this.eventHandler=function(e){e.preventDefault();t.slider.hasClass(n)?t.showSlide():t.hideSlide()};t.opener.bind(t.options.event,this.eventHandler);if(t.options.event==="over"){t.opener.bind("mouseenter",function(){t.holder.removeClass(t.options.activeClass);t.opener.trigger(t.options.event)});t.holder.bind("mouseleave",function(){t.holder.addClass(t.options.activeClass);t.opener.trigger(t.options.event)})}t.outsideClickHandler=function(n){if(t.options.hideOnClickOutside){var r=e(n.target);!r.is(t.holder)&&!r.closest(t.holder).length&&t.hideSlide()}}},showSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.addClass(t.options.activeClass);t.slider.removeClass(n);e(document).bind("click",t.outsideClickHandler);t.makeCallback("animStart",!0);r[t.options.effect].show({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.addClass(t.options.activeClass);t.makeCallback("animEnd",!0)}})},hideSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.removeClass(t.options.activeClass);e(document).unbind("click",t.outsideClickHandler);t.makeCallback("animStart",!1);r[t.options.effect].hide({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.removeClass(t.options.activeClass);t.slider.addClass(n);t.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(n).css({display:""});this.opener.unbind(this.options.event,this.eventHandler);this.holder.removeClass(this.options.activeClass).removeData("OpenClose");e(document).unbind("click",this.outsideClickHandler)},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}}};var n="js-slide-hidden";e(function(){var t=e('<style type="text/css">')[0],r="."+n;r+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r));e("head").append(t)});var r={slide:{show:function(e){e.box.stop(!0).hide().slideDown(e.speed,e.complete)},hide:function(e){e.box.stop(!0).slideUp(e.speed,e.complete)}},fade:{show:function(e){e.box.stop(!0).hide().fadeIn(e.speed,e.complete)},hide:function(e){e.box.stop(!0).fadeOut(e.speed,e.complete)}},none:{show:function(e){e.box.hide().show(0,e.complete)},hide:function(e){e.box.hide(0,e.complete)}}};e.fn.openClose=function(n){return this.each(function(){jQuery(this).data("OpenClose",new t(e.extend(n,{holder:this})))})}})(jQuery);(function(e){function t(t){this.options=e.extend({activeClass:"active",mask:"div.slides-mask",slider:">ul",slides:">li",btnPrev:".btn-prev",btnNext:".btn-next",pagerLinks:"ul.pager > li",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",galleryReadyClass:"gallery-js-ready",currentNumber:"span.current-num",totalNumber:"span.total-num",maskAutoSize:!1,autoRotation:!1,pauseOnHover:!1,stretchSlideToMask:!1,switchTime:3e3,animSpeed:500,handleTouch:!0,swipeThreshold:15,vertical:!1},t);this.init()}t.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit",this)}},findElements:function(){this.holder=e(this.options.holder).addClass(this.options.galleryReadyClass);this.mask=this.holder.find(this.options.mask);this.slider=this.mask.find(this.options.slider);this.slides=this.slider.find(this.options.slides);this.btnPrev=this.holder.find(this.options.btnPrev);this.btnNext=this.holder.find(this.options.btnNext);this.currentNumber=this.holder.find(this.options.currentNumber);this.totalNumber=this.holder.find(this.options.totalNumber);typeof this.options.generatePagination=="string"?this.pagerLinks=this.buildPagination():this.pagerLinks=this.holder.find(this.options.pagerLinks);this.sizeProperty=this.options.vertical?"height":"width";this.positionProperty=this.options.vertical?"top":"left";this.animProperty=this.options.vertical?"marginTop":"marginLeft";this.slideSize=this.slides[this.sizeProperty]();this.currentIndex=0;this.prevIndex=0;this.options.maskAutoSize=this.options.vertical?!1:this.options.maskAutoSize;this.options.vertical&&this.mask.css({height:this.slides.innerHeight()});this.options.maskAutoSize&&this.mask.css({height:this.slider.height()});this.slider.css({position:"relative",height:this.options.vertical?this.slideSize*this.slides.length:"100%"});this.slides.css({position:"absolute"}).css(this.positionProperty,-9999).eq(this.currentIndex).css(this.positionProperty,0);this.refreshState()},buildPagination:function(){var t=e();this.pagerHolder||(this.pagerHolder=this.holder.find(this.options.generatePagination));if(this.pagerHolder.length){this.pagerHolder.empty();this.pagerList=e(this.options.pagerList).appendTo(this.pagerHolder);for(var n=0;n<this.slides.length;n++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(n+1);t=this.pagerList.children()}return t},attachEvents:function(){var t=this;if(this.btnPrev.length){this.btnPrevHandler=function(e){e.preventDefault();t.prevSlide()};this.btnPrev.click(this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(e){e.preventDefault();t.nextSlide()};this.btnNext.click(this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(e){e.preventDefault();t.numSlide(t.pagerLinks.index(e.currentTarget))};this.pagerLinks.click(this.pagerLinksHandler)}if(this.options.pauseOnHover){this.hoverHandler=function(){clearTimeout(t.timer)};this.leaveHandler=function(){t.autoRotate()};this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}this.resizeHandler=function(){if(!t.animating){t.makeCallback("onResize",t);t.options.stretchSlideToMask&&t.resizeSlides();t.resizeHolder();t.setSlidesPosition(t.currentIndex)}};e(window).bind("load resize orientationchange",this.resizeHandler);t.options.stretchSlideToMask&&t.resizeSlides();this.options.handleTouch&&jQuery.fn.hammer&&this.slides.length>1&&n&&this.mask.hammer({drag_block_horizontal:t.options.vertical?!1:!0,drag_block_vertical:t.options.vertical?!0:!1,drag_min_distance:1}).on("touch release "+(this.options.vertical?"swipeup swipedown dragup dragdown":"swipeleft swiperight dragleft dragright"),function(e){switch(e.type){case t.options.vertical?"dragup":"dragright":case t.options.vertical?"dragdown":"dragleft":if(!t.animating){t.swipeOffset=-t.slideSize+e.gesture[t.options.vertical?"deltaY":"deltaX"];t.slider.css(t.animProperty,t.swipeOffset);clearTimeout(t.timer)}e.gesture.preventDefault();break;case t.options.vertical?"swipeup":"swipeleft":if(!t.animating){t.nextSlide();t.swipeOffset=0}e.gesture.stopDetect();break;case t.options.vertical?"swipedown":"swiperight":if(!t.animating){t.prevSlide();t.swipeOffset=0}e.gesture.stopDetect();break;case"release":if(Math.abs(e.gesture[t.options.vertical?"deltaY":"deltaX"])>t.options.swipeThreshold)t.options.vertical?e.gesture.direction=="down"?t.prevSlide():e.gesture.direction=="up"&&t.nextSlide():e.gesture.direction=="right"?t.prevSlide():e.gesture.direction=="left"&&t.nextSlide();else{var n={};n[t.animProperty]=-t.slideSize;t.slider.animate(n,{duration:t.options.animSpeed})}t.swipeOffset=0}});this.autoRotate();this.resizeHolder();this.setSlidesPosition(this.currentIndex)},resizeSlides:function(){this.slideSize=this.mask[this.options.vertical?"height":"width"]();this.slides.css(this.sizeProperty,this.slideSize)},resizeHolder:function(){this.options.maskAutoSize&&this.mask.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){if(!this.animating&&this.slides.length>1){this.direction=-1;this.prevIndex=this.currentIndex;this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-1;this.switchSlide()}},nextSlide:function(e){if(!this.animating&&this.slides.length>1){this.direction=1;this.prevIndex=this.currentIndex;this.currentIndex<this.slides.length-1?this.currentIndex++:this.currentIndex=0;this.switchSlide()}},numSlide:function(e){if(!this.animating&&this.currentIndex!==e&&this.slides.length>1){this.direction=e>this.currentIndex?1:-1;this.prevIndex=this.currentIndex;this.currentIndex=e;this.switchSlide()}},preparePosition:function(){this.setSlidesPosition(this.prevIndex,this.direction<0?this.currentIndex:null,this.direction>0?this.currentIndex:null,this.direction)},setSlidesPosition:function(e,t,n,r){if(this.slides.length>1){var i=typeof t=="number"?t:e>0?e-1:this.slides.length-1,s=typeof n=="number"?n:e<this.slides.length-1?e+1:0;this.slider.css(this.animProperty,this.swipeOffset?this.swipeOffset:-this.slideSize);this.slides.css(this.positionProperty,-9999).eq(e).css(this.positionProperty,this.slideSize);if(i===s&&typeof r=="number"){var o=r>0?this.slideSize*2:0;this.slides.eq(s).css(this.positionProperty,o)}else{this.slides.eq(i).css(this.positionProperty,0);this.slides.eq(s).css(this.positionProperty,this.slideSize*2)}}},switchSlide:function(){var e=this,t=this.slides.eq(this.prevIndex),n=this.slides.eq(this.currentIndex);this.animating=!0;this.options.maskAutoSize&&this.mask.animate({height:n.outerHeight(!0)},{duration:this.options.animSpeed});var r={};r[this.animProperty]=this.direction>0?-this.slideSize*2:0;this.preparePosition();this.slider.animate(r,{duration:this.options.animSpeed,complete:function(){e.setSlidesPosition(e.currentIndex);e.animating=!1;e.autoRotate()}});this.refreshState()},refreshState:function(e){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.currentNumber.html(this.currentIndex+1);this.totalNumber.html(this.slides.length)},autoRotate:function(){var e=this;clearTimeout(this.timer);this.options.autoRotation&&(this.timer=setTimeout(function(){e.nextSlide()},this.options.switchTime))},makeCallback:function(e){if(typeof this.options[e]=="function"){var t=Array.prototype.slice.call(arguments);t.shift();this.options[e].apply(this,t)}},destroy:function(){this.btnPrev.unbind("click",this.btnPrevHandler);this.btnNext.unbind("click",this.btnNextHandler);this.pagerLinks.unbind("click",this.pagerLinksHandler);this.holder.unbind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});e(window).unbind("load resize orientationchange",this.resizeHandler);clearTimeout(this.timer);this.options.handleTouch&&e.fn.hammer&&this.mask.hammer().off("touch release swipeleft swiperight swipeup swipedown dragup dragdown dragleft dragright");this.holder.removeClass(this.options.galleryReadyClass);this.slider.add(this.slides).removeAttr("style");typeof this.options.generatePagination=="string"&&this.pagerHolder.empty()}};var n=/MSIE 10.*Touch/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;e.fn.scrollAbsoluteGallery=function(n){return this.each(function(){e(this).data("ScrollAbsoluteGallery",new t(e.extend(n,{holder:this})))})}})(jQuery);jcf={modules:{},plugins:{},baseOptions:{unselectableClass:"jcf-unselectable",labelActiveClass:"jcf-label-active",labelDisabledClass:"jcf-label-disabled",classPrefix:"jcf-class-",hiddenClass:"jcf-hidden",focusClass:"jcf-focus",wrapperTag:"div"},customForms:{setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&typeof e[t]=="object"&&jcf.lib.extend(jcf.modules[t].prototype.defaultOptions,e[t])},replaceAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf?n[r].jcf.refreshState():!jcf.lib.hasClass(n[r],"default")&&jcf.modules[t].prototype.checkElement(n[r])&&new jcf.modules[t]({replaces:n[r]})}},refreshAll:function(e){for(var t in jcf.modules){var n=jcf.lib.queryBySelector(jcf.modules[t].prototype.selector,e);for(var r=0;r<n.length;r++)n[r].jcf&&n[r].jcf.refreshState()}},refreshElement:function(e){e&&e.jcf&&e.jcf.refreshState()},destroyAll:function(){for(var e in jcf.modules){var t=jcf.lib.queryBySelector(jcf.modules[e].prototype.selector);for(var n=0;n<t.length;n++)t[n].jcf&&t[n].jcf.destroy()}}},isTouchDevice:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,isWinPhoneDevice:navigator.msPointerEnabled&&/MSIE 10.*Touch/.test(navigator.userAgent),setBaseModule:function(e){jcf.customControl=function(e){this.options=jcf.lib.extend({},jcf.baseOptions,this.defaultOptions,e);this.init()};for(var t in e)jcf.customControl.prototype[t]=e[t]},addModule:function(e){if(e.name
){jcf.modules[e.name]=function(){jcf.modules[e.name].superclass.constructor.apply(this,arguments)};jcf.lib.inherit(jcf.modules[e.name],jcf.customControl);for(var t in e)jcf.modules[e.name].prototype[t]=e[t];jcf.modules[e.name].prototype.onCreateModule();for(var n in jcf.modules)jcf.modules[n]!=jcf.modules[e.name]&&jcf.modules[n].prototype.onModuleAdded(jcf.modules[e.name])}},addPlugin:function(e){if(e&&e.name){jcf.plugins[e.name]=function(){this.init.apply(this,arguments)};for(var t in e)jcf.plugins[e.name].prototype[t]=e[t]}},init:function(){if(navigator.msPointerEnabled){this.eventPress="MSPointerDown";this.eventMove="MSPointerMove";this.eventRelease="MSPointerUp"}else{this.eventPress=this.isTouchDevice?"touchstart":"mousedown";this.eventMove=this.isTouchDevice?"touchmove":"mousemove";this.eventRelease=this.isTouchDevice?"touchend":"mouseup"}setTimeout(function(){jcf.lib.domReady(function(){jcf.initStyles()})},1);return this},initStyles:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style"),n=document.createTextNode("."+jcf.baseOptions.unselectableClass+"{"+"-moz-user-select:none;"+"-webkit-tap-highlight-color:rgba(255,255,255,0);"+"-webkit-user-select:none;"+"user-select:none;"+"}");t.type="text/css";t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n);e.appendChild(t)}}.init();jcf.setBaseModule({init:function(){if(this.options.replaces){this.realElement=this.options.replaces;this.realElement.jcf=this;this.replaceObject()}},defaultOptions:{},checkElement:function(e){return!0},replaceObject:function(){this.createWrapper();this.attachEvents();this.fixStyles();this.setupWrapper()},createWrapper:function(){this.fakeElement=jcf.lib.createElement(this.options.wrapperTag);this.labelFor=jcf.lib.getLabelFor(this.realElement);jcf.lib.disableTextSelection(this.fakeElement);jcf.lib.addClass(this.fakeElement,jcf.lib.getAllClasses(this.realElement.className,this.options.classPrefix));jcf.lib.addClass(this.realElement,jcf.baseOptions.hiddenClass)},attachEvents:function(){jcf.lib.event.add(this.realElement,"focus",this.onFocusHandler,this);jcf.lib.event.add(this.realElement,"blur",this.onBlurHandler,this);jcf.lib.event.add(this.fakeElement,"click",this.onFakeClick,this);jcf.lib.event.add(this.fakeElement,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.fakeElement,jcf.eventRelease,this.onFakeReleased,this);if(this.labelFor){this.labelFor.jcf=this;jcf.lib.event.add(this.labelFor,"click",this.onFakeClick,this);jcf.lib.event.add(this.labelFor,jcf.eventPress,this.onFakePressed,this);jcf.lib.event.add(this.labelFor,jcf.eventRelease,this.onFakeReleased,this)}},fixStyles:function(){if(jcf.isTouchDevice){var e="rgba(255,255,255,0)";this.realElement.style.webkitTapHighlightColor=e;this.fakeElement.style.webkitTapHighlightColor=e;this.labelFor&&(this.labelFor.style.webkitTapHighlightColor=e)}},setupWrapper:function(){},refreshState:function(){},destroy:function(){this.fakeElement&&this.fakeElement.parentNode&&this.fakeElement.parentNode.removeChild(this.fakeElement);jcf.lib.removeClass(this.realElement,jcf.baseOptions.hiddenClass);this.realElement.jcf=null},onFocus:function(){jcf.lib.addClass(this.fakeElement,this.options.focusClass)},onBlur:function(e){jcf.lib.removeClass(this.fakeElement,this.options.focusClass)},onFocusHandler:function(){if(this.focused)return;this.focused=!0;if(jcf.isTouchDevice){if(jcf.focusedInstance&&jcf.focusedInstance.realElement!=this.realElement){jcf.focusedInstance.onBlur();jcf.focusedInstance.realElement.blur()}jcf.focusedInstance=this}this.onFocus.apply(this,arguments)},onBlurHandler:function(){if(!this.pressedFlag){this.focused=!1;this.onBlur.apply(this,arguments)}},onFakeClick:function(){jcf.isTouchDevice?this.onFocus():this.realElement.disabled||this.realElement.focus()},onFakePressed:function(e){this.pressedFlag=!0},onFakeReleased:function(){this.pressedFlag=!1},onCreateModule:function(){},onModuleAdded:function(e){},onControlReady:function(){}});jcf.lib={bind:function(e,t){return function(){return e.apply(t,arguments)}},browser:function(){var e=navigator.userAgent.toLowerCase(),t={},n=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];t[n[1]]=!0;t.version=n[2]||"0";t.safariMac=e.indexOf("mac")!=-1&&e.indexOf("safari")!=-1;return t}(),getOffset:function(e){if(e.getBoundingClientRect&&!jcf.isWinPhoneDevice){var t=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=document.documentElement.clientLeft||document.body.clientLeft||0,i=document.documentElement.clientTop||document.body.clientTop||0;return{top:Math.round(e.getBoundingClientRect().top+n-i),left:Math.round(e.getBoundingClientRect().left+t-r)}}var s=0,o=0;while(e.offsetParent){s+=e.offsetLeft;o+=e.offsetTop;e=e.offsetParent}return{top:o,left:s}},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop},getScrollLeft:function(){return window.pageXOffset||document.documentElement.scrollLeft},getWindowWidth:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth},getWindowHeight:function(){return document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},getStyle:function(e,t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:e.style[t]},getParent:function(e,t){while(e.parentNode&&e.parentNode!=document.body){if(e.parentNode.tagName.toLowerCase()==t.toLowerCase())return e.parentNode;e=e.parentNode}return!1},isParent:function(e,t){while(e.parentNode){if(e.parentNode===t)return!0;e=e.parentNode}return!1},getLabelFor:function(e){var t=jcf.lib.getParent(e,"label");if(t)return t;if(e.id)return jcf.lib.queryBySelector('label[for="'+e.id+'"]')[0]},disableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=function(){return!1}:window.opera?e.setAttribute("unselectable","on"):jcf.lib.addClass(e,jcf.baseOptions.unselectableClass)},enableTextSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=null:window.opera?e.removeAttribute("unselectable"):jcf.lib.removeClass(e,jcf.baseOptions.unselectableClass)},queryBySelector:function(e,t){if(typeof t=="string"){var n=[],r=this.getElementsBySelector(t);for(var i=0,s;i<r.length;i++){s=Array.prototype.slice.call(this.getElementsBySelector(e,r[i]));n=n.concat(s)}return n}return this.getElementsBySelector(e,t)},prevSibling:function(e){while(e=e.previousSibling)if(e.nodeType==1)break;return e},nextSibling:function(e){while(e=e.nextSibling)if(e.nodeType==1)break;return e},fireEvent:function(e,t){if(e.dispatchEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0);return!e.dispatchEvent(n)}if(document.createEventObject){var n=document.createEventObject();return e.fireEvent("on"+t,n)}},isParent:function(e,t){while(t.parentNode){if(e==t)return!0;t=t.parentNode}return!1},inherit:function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.superclass=t.prototype},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},hasClass:function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(!e.className.length||e.className.charAt(e.className.length-1)===" "?"":" ")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/\s+$/,""))},toggleClass:function(e,t,n){n?this.addClass(e,t):this.removeClass(e,t)},createElement:function(e,t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))switch(r){case"class":n.className=t[r];break;case"html":n.innerHTML=t[r];break;case"style":this.setStyles(n,t[r]);break;default:n.setAttribute(r,t[r])}return n},setStyles:function(e,t){for(var n in t)if(t.hasOwnProperty(n))switch(n){case"float":e.style.cssFloat=t[n];break;case"opacity":e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+t[n]*100+")";e.style.opacity=t[n];break;default:e.style[n]=(typeof t[n]=="undefined"?0:t[n])+(typeof t[n]=="number"?"px":"")}return e},getInnerWidth:function(e){return e.offsetWidth-(parseInt(this.getStyle(e,"paddingLeft"))||0)-(parseInt(this.getStyle(e,"paddingRight"))||0)},getInnerHeight:function(e){return e.offsetHeight-(parseInt(this.getStyle(e,"paddingTop"))||0)-(parseInt(this.getStyle(e,"paddingBottom"))||0)},getAllClasses:function(e,t,n){n||(n="");t||(t="");return e?e.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," ").replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},getElementsBySelector:function(e,t){if(typeof document.querySelectorAll=="function")return(t||document).querySelectorAll(e);var n=e.split(","),r=[];for(var i=0;i<n.length;i++){var s=[t||document],o=n[i].replace(/^\s+/,"").replace(/\s+$/,"").split(" ");for(var u=0;u<o.length;u++){token=o[u].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var a=token.split("#"),f=a[0],l=a[1],c=document.getElementById(l);if(f&&c.nodeName.toLowerCase()!=f)return[];s=[c];continue}if(token.indexOf(".")>-1){var a=token.split("."),f=a[0]||"*",h=a[1],p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=[];var y=0;for(var b=0;b<p.length;b++)p[b].className&&p[b].className.match(new RegExp("(\\s|^)"+h+"(\\s|$)"))&&(s[y++]=p[b]);continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var f=RegExp.$1||"*",w=RegExp.$2,E=RegExp.$3,S=RegExp.$4;w.toLowerCase()=="for"&&this.browser.msie&&this.browser.version<8&&(w="htmlFor");var p=[],d=0;for(var v=0;v<s.length;v++){var m;f=="*"?m=s[v].getElementsByTagName("*"):m=s[v].getElementsByTagName(f);for(var g=0;m[g];g++)p[d++]=m[g]}s=[];var y=0,x;switch(E){case"=":x=function(e){return e.getAttribute(w)==S};break;case"~":x=function(e){return e.getAttribute(w).match(new RegExp("(\\s|^)"+S+"(\\s|$)"))};break;case"|":x=function(e){return e.getAttribute(w).match(new RegExp("^"+S+"-?"))};break;case"^":x=function(e){return e.getAttribute(w).indexOf(S)==0};break;case"$":x=function(e){return e.getAttribute(w).lastIndexOf(S)==e.getAttribute(w).length-S.length};break;case"*":x=function(e){return e.getAttribute(w).indexOf(S)>-1};break;default:x=function(e){return e.getAttribute(w)}}s=[];var y=0;for(var b=0;b<p.length;b++)x(p[b])&&(s[y++]=p[b]);continue}f=token;var p=[],d=0;for(var v=0;v<s.length;v++){var m=s[v].getElementsByTagName(f);for(var g=0;g<m.length;g++)p[d++]=m[g]}s=p}r=[].concat(r,s)}return r},scrollSize:function(){function i(){t&&s();e=document.createElement("div");t=document.createElement("div");t.style.cssText="position:absolute;overflow:hidden;width:100px;height:100px";t.appendChild(e);document.body.appendChild(t)}function s(){document.body.removeChild(t);t=null}function o(o){i();e.style.cssText="height:"+(o?"100%":"200px");n=o?e.offsetHeight:e.offsetWidth;t.style.overflow="scroll";e.innerHTML=1;r=o?e.offsetHeight:e.offsetWidth;o&&t.clientHeight&&(r=t.clientHeight);s();return n-r}var e,t,n,r;return{getWidth:function(){return o(!1)},getHeight:function(){return o(!0)}}}(),domReady:function(e){function n(){if(t)return;t=!0;e()}var t=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function r(){if(t)return;if(!document.body)return;try{document.documentElement.doScroll("left");n()}catch(e){setTimeout(r,0)}}r()}document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()})}window.addEventListener?window.addEventListener("load",n,!1):window.attachEvent&&window.attachEvent("onload",n)},event:function(){function t(e){e=e||window.event;if(e.isFixed)return e;e.isFixed=!0;e.preventDefault=e.preventDefault||function(){this.returnValue=!1};e.stopPropagation=e.stopPropagaton||function(){this.cancelBubble=!0};e.target||(e.target=e.srcElement);!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target?e.toElement:e.fromElement);if(e.pageX==null&&e.clientX!=null){var t=document.documentElement,n=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0);e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0)}!e.which&&e.button&&(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0);if(e.type==="DOMMouseScroll"||e.type==="mousewheel"){e.mWheelDelta=0;e.wheelDelta?e.mWheelDelta=e.wheelDelta/120:e.detail&&(e.mWheelDelta=-e.detail/3)}return e}function n(e,n){e=t(e);var r=this.events[e.type];for(var i in r){var s=r[i],o=s.call(n||this,e);if(o===!1){e.preventDefault();e.stopPropagation()}}}var e=0,r={add:function(t,i,s,o){t.setInterval&&t!=window&&!t.frameElement&&(t=window);s.guid||(s.guid=++e);if(!t.events){t.events={};t.handle=function(e){return n.call(t,e)}}if(!t.events[i]){t.events[i]={};t.addEventListener?t.addEventListener(i,t.handle,!1):t.attachEvent&&t.attachEvent("on"+i,t.handle);i==="mousewheel"&&r.add(t,"DOMMouseScroll",s,o)}var u=jcf.lib.bind(s,o);u.guid=s.guid;t.events[i][s.guid]=o?u:s},remove:function(e,t,n){var i=e.events&&e.events[t];if(!i)return;delete i[n.guid];for(var s in i)return;e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle);delete e.events[t];for(var s in e.events)return;try{delete e.handle;delete e.events}catch(o){if(e.removeAttribute){e.removeAttribute("handle");e.removeAttribute("events")}}t==="mousewheel"&&r.remove(e,"DOMMouseScroll",n)}};return r}()};jcf.addModule({name:"select",selector:"select",defaultOptions:{useNativeDropOnMobileDevices:!0,hideDropOnScroll:!0,showNativeDrop:!1,handleDropPosition:!1,selectDropPosition:"bottom",wrapperClass:"select-area",focusClass:"select-focus",dropActiveClass:"select-active",selectedClass:"item-selected",currentSelectedClass:"current-selected",disabledClass:"select-disabled",valueSelector:"span.center",optGroupClass:"optgroup",openerSelector:"a.select-opener",selectStructure:'<span class="left"></span><span class="center"></span><a class="select-opener"></a>',wrapperTag:"span",classPrefix:"select-",dropMaxHeight:200,dropFlippedClass:"select-options-flipped",dropHiddenClass:"options-hidden",dropScrollableClass:"options-overflow",dropClass:"select-options",dropClassPrefix:"drop-",dropStructure:'<div class="drop-holder"><div class="drop-list"></div></div>',dropSelector:"div.drop-list"},checkElement:function(e){return!e.size&&!e.multiple},setupWrapper:function(){jcf.lib.addClass(this.fakeElement,this.options.wrapperClass);this.realElement.parentNode.insertBefore(this.fakeElement,this.realElement);this.fakeElement.innerHTML=this.options.selectStructure;this.fakeElement.style.width=this.realElement.offsetWidth>0?this.realElement.offsetWidth+"px":"auto";this.options.useNativeDropOnMobileDevices&&(jcf.isTouchDevice||jcf.isWinPhoneDevice)&&(this.options.showNativeDrop=!0);if(this.options.showNativeDrop){this.fakeElement.appendChild(this.realElement);jcf.lib.removeClass(this.realElement,this.options.hiddenClass);jcf.lib.setStyles(this.realElement,{top:0,left:0,margin:0,padding:0,opacity:0,border:"none",position:"absolute",width:jcf.lib.getInnerWidth(this.fakeElement)-1,height:jcf.lib.getInnerHeight(this.fakeElement)-1});jcf.lib.event.add(this.realElement,jcf.eventPress,function(){this.realElement.title=""},this)}this.opener=jcf.lib.queryBySelector(this.options.openerSelector,this.fakeElement)[0];this.valueText=jcf.lib.queryBySelector(this.options.valueSelector,this.fakeElement)[0];jcf.lib.disableTextSelection(this.valueText);this.opener.jcf=this;if(!this.options.showNativeDrop){this.createDropdown();this.refreshState();this.onControlReady(this);this.hideDropdown(!0)}else this.refreshState();this.addEvents()},addEvents:function(){this.options.showNativeDrop?jcf.lib.event.add(this.realElement,"click",this.onChange,this):jcf.lib.event.add(this.fakeElement,"click",this.toggleDropdown,this);jcf.lib.event.add(this.realElement,"change",this.onChange,this)},onFakeClick:function(){},onFocus:function(){jcf.modules[this.name].superclass.onFocus.apply(this,arguments);if(!this.options.showNativeDrop){jcf.lib.browser.safariMac&&this.realElement.setAttribute("size","2");jcf.lib.event.add(this.realElement,"keydown",this.onKeyDown,this);if(jcf.activeControl&&jcf.activeControl!=this){jcf.activeControl.hideDropdown();jcf.activeControl=this}}},onBlur:function(){if(!this.options.showNativeDrop){jcf.lib.browser.safariMac&&this.realElement.removeAttribute("size");if(!this.isActiveDrop()||!this.isOverDrop()){jcf.modules[this.name].superclass.onBlur.apply(this);jcf.activeControl===this&&(jcf.activeControl=null);jcf.isTouchDevice||this.hideDropdown()}jcf.lib.event.remove(this.realElement,"keydown",this.onKeyDown)}else jcf.modules[this.name].superclass.onBlur.apply(this)},onChange:function(){this.refreshState()},onKeyDown:function(e){this.dropOpened=!0;jcf.tmpFlag=!0;setTimeout(function(){jcf.tmpFlag=!1},100);var t=this;t.keyboardFix=!0;setTimeout(function(){t.refreshState()},10);if(e.keyCode==13){t.toggleDropdown.apply(t);return!1}},onResizeWindow:function(e){this.isActiveDrop()&&this.hideDropdown()},onScrollWindow:function(e){this.options.hideDropOnScroll?this.hideDropdown():this.isActiveDrop()&&this.positionDropdown()},onOptionClick:function(e){var t=e.target&&e.target.tagName&&e.target.tagName.toLowerCase()=="li"?e.target:jcf.lib.getParent(e.target,"li");if(t){this.dropOpened=!0;this.realElement.selectedIndex=parseInt(t.getAttribute("rel"));jcf.isTouchDevice?this.onFocus():this.realElement.focus();this.refreshState();this.hideDropdown();jcf.lib.fireEvent(this.realElement,"change")}return!1},onClickOutside:function(e){if(jcf.tmpFlag){jcf.tmpFlag=!1;return}!jcf.lib.isParent(this.fakeElement,e.target)&&!jcf.lib.isParent(this.selectDrop,e.target)&&this.hideDropdown()},onDropHover:function(e){if(!this.keyboardFix){this.hoverFlag=!0;var t=e.target&&e.target.tagName&&e.target.tagName.toLowerCase()=="li"?e.target:jcf.lib.getParent(e.target,"li");if(t){this.realElement.selectedIndex=parseInt(t.getAttribute("rel"));this.refreshSelectedClass(parseInt(t.getAttribute("rel")))}}else this.keyboardFix=!1},onDropLeave:function(){this.hoverFlag=!1},isActiveDrop:function(){return!jcf.lib.hasClass(this.selectDrop,this.options.dropHiddenClass)},isOverDrop:function(){return this.hoverFlag},createDropdown:function(){this.selectDrop&&this.selectDrop.parentNode.removeChild(this.selectDrop);this.selectDrop=document.createElement("div");this.selectDrop.className=this.options.dropClass;this.selectDrop.innerHTML=this.options.dropStructure;jcf.lib.setStyles(this.selectDrop,{position:"absolute"});this.selectList=jcf.lib.queryBySelector(this.options.dropSelector,this.selectDrop)[0];jcf.lib.addClass(this.selectDrop,this.options.dropHiddenClass);document.body.appendChild(this.selectDrop);this.selectDrop.jcf=this;jcf.lib.event.add(this.selectDrop,"click",this.onOptionClick,this);jcf.lib.event.add(this.selectDrop,"mouseover",this.onDropHover,this);jcf.lib.event.add(this.selectDrop,"mouseout",this.onDropLeave,this);this.buildDropdown()},buildDropdown:function(){this.buildDropdownOptions();this.positionDropdown();this.buildDropdownScroll()},buildDropdownOptions:function(){this.resStructure="";this.optNum=0;for(var e=0;e<this.realElement.children.length;e++)this.resStructure+=this.buildElement(this.realElement.children[e],e)+"\n";this.selectList.innerHTML=this.resStructure},buildDropdownScroll:function(){jcf.lib.addClass(this.selectDrop,jcf.lib.getAllClasses(this.realElement.className,this.options.dropClassPrefix,jcf.baseOptions.hiddenClass));if(this.options.dropMaxHeight&&this.selectDrop.offsetHeight>this.options.dropMaxHeight){this.selectList.style.height=this.options.dropMaxHeight+"px";this.selectList.style.overflow="auto";this.selectList.style.overflowX="hidden";jcf.lib.addClass(this.selectDrop,this.options.dropScrollableClass)}},parseOptionTitle:function(e){return typeof e=="string"&&/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i.test(e)?e:""},buildElement:function(e,t){var n="",r;if(e.tagName.toLowerCase()=="option"){if(!jcf.lib.prevSibling(e)||jcf.lib.prevSibling(e).tagName.toLowerCase()!="option")n+="<ul>";r=this.parseOptionTitle(e.title);n+='<li rel="'+this.optNum++ +'" class="'+(e.className?e.className+" ":"")+(t%2?"option-even ":"")+'jcfcalc"><a href="#">'+(r?'<img src="'+r+'" alt="" />':"")+"<span>"+e.innerHTML+"</span></a></li>";if(!jcf.lib.nextSibling(e)||jcf.lib.nextSibling(e).tagName.toLowerCase()!="option")n+="</ul>";return n}if(e.tagName.toLowerCase()=="optgroup"&&e.label){n+='<div class="'+this.options.optGroupClass+'">';n+='<strong class="jcfcalc"><em>'+e.label+"</em></strong>";for(var i=0;i<e.children.length;i++)n+=this.buildElement(e.children[i],i);n+="</div>";return n}},positionDropdown:function(){var e=jcf.lib.getOffset(this.fakeElement),t=this.fakeElement.offsetHeight,n=this.selectDrop.offsetHeight,r=e.top-n>=jcf.lib.getScrollTop()&&jcf.lib.getScrollTop()+jcf.lib.getWindowHeight()<e.top+t+n;if(this.options.handleDropPosition&&r||this.options.selectDropPosition==="top"){this.selectDrop.style.top=e.top-n+"px";jcf.lib.addClass(this.selectDrop,this.options.dropFlippedClass);jcf.lib.addClass(this.fakeElement,this.options.dropFlippedClass)}else{this.selectDrop.style.top=e.top+t+"px";jcf.lib.removeClass(this.selectDrop,this.options.dropFlippedClass);jcf.lib.removeClass(this.fakeElement,this.options.dropFlippedClass)}this.selectDrop.style.left=e.left+"px";this.selectDrop.style.width=this.fakeElement.offsetWidth+"px"},showDropdown:function(){document.body.appendChild(this.selectDrop);jcf.lib.removeClass(this.selectDrop,this.options.dropHiddenClass);jcf.lib.addClass(this.fakeElement,this.options.dropActiveClass);this.positionDropdown();var e=this.getFakeActiveOption();this.removeClassFromItems(this.options.currentSelectedClass);jcf.lib.addClass(e,this.options.currentSelectedClass);jcf.lib.event.add(window,"resize",this.onResizeWindow,this);jcf.lib.event.add(window,"scroll",this.onScrollWindow,this);jcf.lib.event.add(document,jcf.eventPress,this.onClickOutside,this);this.positionDropdown()},hideDropdown:function(e){if(this.selectDrop.parentNode){this.selectDrop.offsetWidth&&this.selectDrop.parentNode.removeChild(this.selectDrop);if(e)return}typeof this.origSelectedIndex=="number"&&(this.realElement.selectedIndex=this.origSelectedIndex);jcf.lib.removeClass(this.fakeElement,this.options.dropActiveClass);jcf.lib.addClass(this.selectDrop,this.options.dropHiddenClass);jcf.lib.event.remove(window,"resize",this.onResizeWindow);jcf.lib.event.remove(window,"scroll",this.onScrollWindow);jcf.lib.event.remove(document.documentElement,jcf.eventPress,this.onClickOutside);jcf.isTouchDevice&&this.onBlur()},toggleDropdown:function(){if(!this.realElement.disabled){jcf.isTouchDevice?this.onFocus():this.realElement.focus();this.isActiveDrop()?this.hideDropdown():this.showDropdown();this.refreshState()}},scrollToItem:function(){if(this.isActiveDrop()){var e=this.selectList.offsetHeight,t=this.calcOptionOffset(this.getFakeActiveOption()),n=this.selectList.scrollTop,r=this.getFakeActiveOption().offsetHeight;t>=n+e?this.selectList.scrollTop=t-e+r:t<n&&(this.selectList.scrollTop=t)}},getFakeActiveOption:function(e){return jcf.lib.queryBySelector('li[rel="'+(typeof e=="number"?e:this.realElement.selectedIndex)+'"]',this.selectList)[0]},calcOptionOffset:function(e){var t=0,n=jcf.lib.queryBySelector(".jcfcalc",this.selectList);for(var r=0;r<n.length;r++){if(n[r]==e)break;t+=n[r].offsetHeight}return t},childrenHasItem:function(e,t){var n=e.getElementsByTagName("*");for(i=0;i<n.length;i++)if(n[i]==t)return!0;return!1},removeClassFromItems:function(e){var t=jcf.lib.queryBySelector("li",this.selectList);for(var n=t.length-1;n>=0;n--)jcf.lib.removeClass(t[n],e)},setSelectedClass:function(e){jcf.lib.addClass(this.getFakeActiveOption(e),this.options.selectedClass)},refreshSelectedClass:function(e){if(!this.options.showNativeDrop){this.removeClassFromItems(this.options.selectedClass);this.setSelectedClass(e)}if(this.realElement.disabled){jcf.lib.addClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.addClass(this.labelFor,this.options.labelDisabledClass)}else{jcf.lib.removeClass(this.fakeElement,this.options.disabledClass);this.labelFor&&jcf.lib.removeClass(this.labelFor,this.options.labelDisabledClass)}},refreshSelectedText:function(){if(!this.dropOpened&&this.realElement.title)this.valueText.innerHTML=this.realElement.title;else if(this.realElement.options[this.realElement.selectedIndex].title){var e=this.parseOptionTitle(this.realElement.options[this.realElement.selectedIndex].title);this.valueText.innerHTML=(e?'<img src="'+e+'" alt="" />':"")+this.realElement.options[this.realElement.selectedIndex].innerHTML}else this.valueText.innerHTML=this.realElement.options[this.realElement.selectedIndex].innerHTML},refreshState:function(){this.origSelectedIndex=this.realElement.selectedIndex;this.refreshSelectedClass();this.refreshSelectedText();if(!this.options.showNativeDrop){this.positionDropdown();this.selectDrop.offsetWidth&&this.scrollToItem()}}});PlatformDetect=function(){var e={},t,n=document.getElementsByTagName("link");for(var r=0;r<n.length;r++)if(n[r].getAttribute("media")==="all"){t=n[r].getAttribute("href");if(t){t=t.replace(/[^\/]*$/,"");break}}return{options:{cssPath:"css/"},addModule:function(t){e[t.type]=t},addRule:function(e){if(this.matchRule(e)){this.applyRule(e);return!0}},matchRule:function(t){return e[t.type].matchRule(t)},applyRule:function(e){var n=document.getElementsByTagName("head")[0],r,i;if(e.css){i='<link rel="stylesheet" href="'+(t||this.options.cssPath)+e.css+'" />';if(n){r=document.createElement("div");r.innerHTML=i;n.appendChild(r.childNodes[0])}else document.write(i)}if(e.meta)if(n){r=document.createElement("div");r.innerHTML=e.meta;n.appendChild(r.childNodes[0])}else document.write(e.meta)},matchVersions:function(e,t){t=t.toString();e=e.toString();var n=parseInt(t,10)===parseInt(e,10),r=(e.length>t.length?e.indexOf(t):t.indexOf(e))===0;return n&&r}}}();PlatformDetect.addModule({type:"allmobile",uaMatch:function(e){this.ua||(this.ua=navigator.userAgent.toLowerCase());return this.ua.indexOf(e.toLowerCase())!=-1},matchRule:function(e){return this.uaMatch("mobi")||this.uaMatch("midp")||this.uaMatch("ppc")||this.uaMatch("webos")||this.uaMatch("android")||this.uaMatch("phone os")||this.uaMatch("touch")}});PlatformDetect.addModule({type:"android",parseUserAgent:function(){var e=/(Android) ([0-9.]*).*/.exec(navigator.userAgent);if(e)return{deviceType:navigator.userAgent.indexOf("Mobile")>0?"mobile":"tablet",version:e[2]}},matchRule:function(e){this.matchData=this.matchData||this.parseUserAgent();if(this.matchData){var t=e.version?PlatformDetect.matchVersions(this.matchData.version,e.version):!0,n=e.deviceType?e.deviceType===this.matchData.deviceType:!0;return t&&n}}});PlatformDetect.addModule({type:"winphone",parseUserAgent:function(){var e=/(Windows Phone OS) ([0-9.]*).*/.exec(navigator.userAgent);if(e)return{version:e[2]};if(/MSIE 10.*Touch/.test(navigator.userAgent))return{version:8}},matchRule:function(e){this.matchData=this.matchData||this.parseUserAgent();if(this.matchData)return e.version?PlatformDetect.matchVersions(this.matchData.version,e.version):!0}});PlatformDetect.addRule({type:"allmobile",css:"allmobile.css"});PlatformDetect.addRule({type:"android",version:4,css:"android.css"});PlatformDetect.addRule({type:"winphone",css:"winphone.css"});window.matchMedia=window.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");o.id="mq-test-1";o.style.cssText="position:absolute;top:-100em";s.appendChild(o);return function(e){o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>';r.insertBefore(s,i);n=o.offsetWidth==42;r.removeChild(s);return{matches:n,media:e}}}(document);(function(e){"use strict";e.picturefill=function(){for(var t=e.document.getElementsByTagName("div"),n=0,r=t.length;r>n;n++)if(null!==t[n].getAttribute("data-picture")){for(var i=t[n].getElementsByTagName("div"),s=[],o=0,u=i.length;u>o;o++){var f=i[o].getAttribute("data-media");(!f||e.matchMedia&&e.matchMedia(f).matches)&&s.push(i[o])}var l=t[n].getElementsByTagName("img")[0];if(s.length){l||(l=e.document.createElement("img"),l.alt=t[n].getAttribute("data-alt"),t[n].appendChild(l));var c=s.pop(),h=c.getAttribute("data-width"),p=c.getAttribute("data-height");l.src=c.getAttribute("data-src"),h?l.setAttribute("width",h):l.removeAttribute("width"),p?l.setAttribute("height",p):l.removeAttribute("height")}else l&&t[n].removeChild(l)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)})(this);(function(e,t){"use strict";function n(){if(!r.READY){r.event.determineEventTypes();for(var e in r.gestures)r.gestures.hasOwnProperty(e)&&r.detection.register(r.gestures[e]);r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0}}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=document,r.plugins={},r.READY=!1,r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;n.length>r;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,s=!1,o=!1;r.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;r.length>i;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,n){var u=this;this.bindDom(e,r.EVENT_TYPES[t],function(f){var l=f.type.toLowerCase();if(!l.match(/mouse/)||!o){(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===f.which)&&(s=!0),l.match(/touch|pointer/)&&(o=!0);var c=0;s&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?c=r.PointerEvent.updatePointer(t,f):l.match(/touch/)?c=f.touches.length:o||(c=l.match(/up/)?0:1),c>0&&t==r.EVENT_END?t=r.EVENT_MOVE:c||(t=r.EVENT_END),c||null===i?i=f:f=i,n.call(r.detection,u.collectEventData(e,t,f)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(c=r.PointerEvent.updatePointer(t,f))),c||(i=null,s=!1,o=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var i=this.getTouchList(n,t),s=r.POINTER_TOUCH;return(n.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,n))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:t,pointerType:s,srcEvent:n,preventDefault:function(){this.srcEvent
.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[r.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==r.POINTER_MOUSE,n[r.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==r.POINTER_TOUCH,n[r.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==r.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;i>r;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var i=0;r.length>i;i++)for(var s in t)t.hasOwnProperty(s)&&(n=s,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[s]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var s=this.gestures[n];if(!this.stopped&&t[s.name]!==!1&&s.handler.call(s,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,i=e.touches.length;i>n;n++)t.touches.push(r.utils.extend({},e.touches[n]))}var s=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,u=e.center.pageY-t.center.pageY,a=r.utils.getVelocity(s,o,u);return r.utils.extend(e,{deltaTime:s,deltaX:o,deltaY:u,velocityX:a.x,velocityY:a.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),direction:r.utils.getDirection(t.center,e.center),scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures=r.gestures||{},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&r.detection.current.name!=this.name)return;r.detection.current.name=this.name,(r.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?0>e.deltaY?r.DIRECTION_UP:r.DIRECTION_DOWN:0>e.deltaX?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&r.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(r.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var i=Math.abs(1-e.scale),s=Math.abs(e.rotation);if(n.options.transform_min_scale>i&&n.options.transform_min_rotation>s)return;r.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),s>n.options.transform_min_rotation&&n.trigger("rotate",e),i>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case r.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==r.EVENT_START&&n.trigger(this.name,e),t)}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=r:(e.Hammer=r,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return r}))})(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(n,r,i){e(n).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},Hammer.Instance.prototype.on=function(t,n){return e(this.element).on(t,n)},Hammer.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},Hammer.Instance.prototype.trigger=function(t,n){var r=e(this.element);return r.has(n.target).length&&(r=e(n.target)),r.trigger({type:t,gesture:n})},e.fn.hammer=function(t){return this.each(function(){var n=e(this),r=n.data("hammer");r?r&&t&&Hammer.utils.extend(r.options,t):n.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto);