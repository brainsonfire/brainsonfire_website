function icicle_init(e){controls(),icicle=new $jit.Icicle({injectInto:"infovis",animate:animate,offset:1,cushion:!1,constrained:!0,levelsToShow:3,Tips:{enable:!0,type:"Native",offsetX:20,offsetY:20,onShow:function(e,i){var t=0;i.eachSubnode(function(){t++}),prettyPath=i.id.substring(5).replace(/:/g,"/"),prettyPath=prettyPath.replace(/\^/g," <b>Size:</b> "),prettyPath=prettyPath.replace(/~/g," "),e.innerHTML='<div class="tip-title"><b>Path:</b> '+prettyPath+'</div><div class="tip-text">'+t+" subdirectories</div>"}},Events:{enable:!0,onMouseEnter:function(e){e.setData("border","#33dddd"),icicle.fx.plotNode(e,icicle.canvas),icicle.labels.plotLabel(icicle.canvas,e,icicle.controller)},onMouseLeave:function(e){e.removeData("border"),icicle.fx.plot()},onClick:function(e){e&&(icicle.tips.hide(),icicle.events.hoveredNode&&this.onMouseLeave(icicle.events.hoveredNode),icicle.enter(e))},onRightClick:function(){icicle.tips.hide(),icicle.events.hoveredNode&&this.onMouseLeave(icicle.events.hoveredNode),icicle.out()}},Label:{type:labelType},onCreateLabel:function(e,i){e.innerHTML=i.name;var t=e.style;t.fontSize="0.9em",t.display="",t.cursor="pointer",t.color="#333",t.overflow="hidden"},onPlaceLabel:function(e,i){var t=e.style,n=i.getData("width"),c=i.getData("height");7>n||7>c?t.display="none":(t.display="",t.width=n+"px",t.height=c+"px")}}),icicle.loadJSON(jQuery.parseJSON(e)),icicle.refresh()}function controls(){var e=$jit,i=e.id("update");e.util.addEvent(i,"click",function(){icicle.out()});var t=e.id("s-orientation");e.util.addEvent(t,"change",function(){icicle.layout.orientation=t[t.selectedIndex].value,icicle.refresh()});var n=e.id("i-levels-to-show");e.util.addEvent(n,"change",function(){var e=n.selectedIndex;0==e?icicle.config.constrained=!1:(icicle.config.constrained=!0,icicle.config.levelsToShow=e),icicle.refresh()})}function strrchr(e,i){return"string"!=typeof i&&(i=String.fromCharCode(parseInt(i,10))),i=i.charAt(0),pos=e.lastIndexOf(i),-1===pos?!1:e.substr(pos)}var labelType,useGradients,nativeTextSupport,animate;!function(){var e=navigator.userAgent,i=e.match(/iPhone/i)||e.match(/iPad/i),t=typeof HTMLCanvasElement,n="object"==t||"function"==t,c=n&&"function"==typeof document.createElement("canvas").getContext("2d").fillText;labelType=!n||c&&!i?"Native":"HTML",nativeTextSupport="Native"==labelType,useGradients=n,animate=!(i||!n)}();var icicle;