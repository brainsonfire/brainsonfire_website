jQuery&&function(e){e.extend(e.fn,{fileTree:function(i,a,s){if(!i)var i={};void 0==i.root&&(i.root="/"),void 0==i.script&&(i.script="jqueryFileTree.php"),void 0==i.folderEvent&&(i.folderEvent="click"),void 0==i.expandSpeed&&(i.expandSpeed=500),void 0==i.collapseSpeed&&(i.collapseSpeed=500),void 0==i.expandEasing&&(i.expandEasing=null),void 0==i.collapseEasing&&(i.collapseEasing=null),void 0==i.multiFolder&&(i.multiFolder=!0),void 0==i.loadMessage&&(i.loadMessage="Loading..."),e(this).each(function(){function t(a,s){e(a).addClass("wait"),e(".jqueryFileTree.start").remove(),e.post(i.script,{dir:s},function(t){e(a).find(".start").html(""),e(a).removeClass("wait").append(t),i.root==s?e(a).find("UL:hidden").show():e(a).find("UL:hidden").slideDown({duration:i.expandSpeed,easing:i.expandEasing}),n(a)})}function n(n){e(n).find("LI A").bind(i.folderEvent,function(n){if(e(this).parent().hasClass("directory")){if(e(n.target).is("img"))return s(e(this).attr("rel")),!1;e(this).parent().hasClass("collapsed")?(i.multiFolder||(e(this).parent().parent().find("UL").slideUp({duration:i.collapseSpeed,easing:i.collapseEasing}),e(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed")),e(this).parent().find("UL").remove(),t(e(this).parent(),escape(e(this).attr("rel").match(/.*\//))),e(this).parent().removeClass("collapsed").addClass("expanded")):(e(this).parent().find("UL").slideUp({duration:i.collapseSpeed,easing:i.collapseEasing}),e(this).parent().removeClass("expanded").addClass("collapsed"))}else{if(e(this).parent().hasClass("file")&&!e(n.target).is("img"))return!1;a(e(this).attr("rel"))}return!1}),"click"!=i.folderEvent.toLowerCase&&e(n).find("LI A").bind("click",function(){return!1})}e(this).html('<ul class="jqueryFileTree start"><li class="wait">'+i.loadMessage+"<li></ul>"),t(e(this),escape(i.root))})}})}(jQuery);