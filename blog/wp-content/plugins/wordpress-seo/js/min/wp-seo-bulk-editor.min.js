jQuery(document).ready(function(){var e="#wpseo-existing-title-",t="#wpseo-new-title-",s=".wpseo-new-title",i="#wpseo-existing-metadesc-",n="#wpseo-new-metadesc-",o=".wpseo-new-metadesc",u=null,r=function(s,o){if("success"==o){var a=s;"string"==typeof a&&(a=JSON.parse(a)),a instanceof Array?jQuery.each(a,function(){r(this,o)}):"success"==a.status?jQuery(u).closest(".wpseo_bulk_titles").length?(jQuery(e+a.post_id).html(a.new_title.replace(/\\(?!\\)/g,"")),jQuery(t+a.post_id).val("").focus()):jQuery(u).closest(".wpseo_bulk_descriptions").length&&(jQuery(i+a.post_id).html(a.new_metadesc.replace(/\\(?!\\)/g,"")),jQuery(n+a.post_id).val("").focus()):alert("Failure")}},a=function(e,t){u=t,1==jQuery(u).closest(".wpseo_bulk_titles").length?c(e):1==jQuery(u).closest(".wpseo_bulk_descriptions").length&&l(e)},c=function(s){var i={action:"wpseo_save_title",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:s,new_title:jQuery(t+s).val(),existing_title:jQuery(e+s).html()};if(i.new_title==i.existing_title)jQuery(t+s).val("").focus();else{if(""==i.new_title&&!confirm("Are you sure you want to remove the existing Yoast SEO Title?"))return jQuery(t+s).focus(),void 0;jQuery.post(ajaxurl,i,r)}},l=function(e){var t={action:"wpseo_save_desc",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:e,new_metadesc:jQuery(n+e).val(),existing_metadesc:jQuery(i+e).html()};if(t.new_metadesc==t.existing_metadesc)jQuery(n+e).val("").focus();else{if(""==t.new_metadesc&&!confirm("Are you sure you want to remove the existing Yoast SEO Description?"))return jQuery(t.new_metadesc+e).focus(),void 0;jQuery.post(ajaxurl,t,r)}};jQuery.each(jQuery(s+", "+o),function(){jQuery(this).keypress(function(e){if(13==e.which){e.preventDefault();var t=jQuery(this).data("id");a(t)}})}),jQuery.each(jQuery(".wpseo-save"),function(){jQuery(this).click(function(){var e=jQuery(this).data("id");a(e,this)})}),jQuery.each(jQuery(".wpseo-save-all"),function(){var a=function(i){i.preventDefault(),u=this;var n={action:"wpseo_save_all_titles",_ajax_nonce:wpseo_bulk_editor_nonce};n.send=!1,n.titles={},n.existing_titles={},jQuery.each(jQuery(s),function(){var s=jQuery(this).data("id"),i=jQuery(this).val(),o=jQuery(e+s).html();""!=i&&(i==o?jQuery(t+s).val("").focus():(n.send=!0,n.titles[s]=i,n.existing_titles[s]=o))}),n.send&&jQuery.post(ajaxurl,n,r)},c=function(e){e.preventDefault(),u=this;var t={action:"wpseo_save_all_descs",_ajax_nonce:wpseo_bulk_editor_nonce};t.send=!1,t.metadescs={},t.existing_metadescs={},jQuery.each(jQuery(o),function(){var e=jQuery(this).data("id"),s=jQuery(this).val(),o=jQuery(i+e).html();""!=s&&(s==o?jQuery(n+e).val("").focus():(t.send=!0,t.metadescs[e]=s,t.existing_metadescs[e]=o))}),t.send&&jQuery.post(ajaxurl,t,r)};jQuery(this).closest(".wpseo_bulk_titles").length?jQuery(this).on("click",a):jQuery(this).closest(".wpseo_bulk_descriptions").length&&jQuery(this).on("click",c)})});